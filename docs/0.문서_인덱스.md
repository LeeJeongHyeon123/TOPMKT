# 탑마케팅 프로젝트 문서 인덱스

**최종 수정일:** 2025-06-02 22:40:00 KST

이 파일은 탑마케팅 프로젝트의 모든 문서에 대한 인덱스 및 요약을 제공합니다. 각 문서의 주요 내용과 핵심 정보를 빠르게 파악할 수 있습니다.

## 문서 목록

1. [기획서](#1-기획서)
2. [정책서](#2-정책서)
3. [시스템 아키텍처](#3-시스템-아키텍처)
4. [DB 구조](#4-db-구조)
5. [API 설계서](#5-api-설계서)
6. [디렉토리 구조](#6-디렉토리-구조)
7. [코딩 컨벤션 스타일 가이드](#7-코딩-컨벤션-스타일-가이드)
8. [개발 체크리스트](#8-개발-체크리스트)
9. [CI/CD GitHub Actions 가이드](#9-cicd-github-actions-가이드)
10. [알리고 SMS 설정 가이드](#10-알리고-sms-설정-가이드)
11. [reCAPTCHA 설정 가이드](#11-recaptcha-설정-가이드)
12. [설치 가이드](#12-설치-가이드)
13. [최근 개발 노트 (2025-06)](#13-최근-개발-노트-2025-06) **🆕 NEW**

---

## 🚀 프로젝트 현재 상태 (2025-06-02 22:40)

### ✅ 완료된 주요 작업
- **✅ 전체 시스템 설치 완료** - 프로젝트 파일 배포, 데이터베이스 설치, 관리자 계정 생성
- **✅ 회원가입 시스템 완전 구동** - SMS 인증, reCAPTCHA, 데이터베이스 저장까지 모든 과정 검증 완료
- **✅ 보안 시스템 구축 완료** - reCAPTCHA v3 구현, SMS 보안, 데이터베이스 보안
- **✅ 핵심 기능 구현 완료** - 사용자 관리, SMS 인증, 게시판 시스템
- **✅ 디버깅 시스템 개선** - 상세 로깅, 오류 추적, Database 싱글톤 패턴 적용
- **✅ 실제 회원가입 테스트 성공** - 닉네임: 우리집탄이, 휴대폰: 010-2659-1346

### 🎯 다음 우선 작업
1. 관리자 로그인 후 초기 설정 완료
2. SMS 발송 테스트 및 정책 준수 확인
3. 추가 보안 점검 및 성능 테스트
4. 문서 정리 및 Git 백업

### 🔗 주요 접속 링크
- **로그인**: https://www.topmktx.com/auth/login (010-0000-0000 / admin123!)
- **회원가입**: https://www.topmktx.com/auth/signup (✅ 완전 작동 확인)
- **메인 페이지**: https://www.topmktx.com/

### 🔧 최근 해결된 주요 기술 이슈
- **Database 연결 오류** → 싱글톤 패턴으로 해결
- **Boolean 데이터 타입 불일치** → Integer 변환으로 해결
- **rollback() 메서드 오류** → 데이터베이스 인스턴스 올바른 초기화
- **404 아바타 이미지 오류** → 기본 SVG 아바타 이미지 생성

---

## 1. 기획서

**파일:** [1. 기획서.md](1.%20기획서.md)

### 주요 내용
- 프로젝트 개요 및 목표
- 타겟 사용자 분석
- 핵심 기능 목록
- 페이지별 기능 설명
- 시스템 요구사항

### 핵심 정보
- 프로젝트명: 탑마케팅
- 주요 기능: 사용자 관리, 게시판, 댓글 시스템
- 목표 출시일: 2025년 8월

---

## 2. 정책서

**파일:** [2. 정책서.md](2.%20정책서.md)

### 주요 내용
- 서비스 이용약관
- 개인정보 처리방침
- 저작권 정책
- 사용자 행동 규칙
- 콘텐츠 관리 정책

### 핵심 정보
- 개인정보 보존 기간: 회원 탈퇴 후 30일
- 금지된 콘텐츠 유형
- 서비스 이용 제한 기준

---

## 3. 시스템 아키텍처

**파일:** [3. 시스템 아키텍처.md](3.%20시스템%20아키텍처.md)

### 주요 내용
- 전체 시스템 구조도
- 서버 구성 정보
- 인프라 설계
- 기술 스택 상세
- 보안 아키텍처

### 핵심 정보
- 서버 환경: CentOS 7.9, Apache 2.4.6
- 데이터베이스: MariaDB 10.6.5
- 백엔드: PHP 8.0.30
- 배포 전략: Blue/Green 배포

---

## 4. DB 구조

**파일:** [4.DB구조.md](4.DB구조.md)

### 주요 내용
- ER 다이어그램
- 테이블 스키마 설명
- 인덱스 설계
- 관계 정의
- 마이그레이션 계획

### 핵심 정보
- 주요 테이블: users, posts, comments, sessions, verification_codes
- 데이터베이스 엔진: InnoDB
- 문자 인코딩: UTF-8mb4
- 주요 인덱스: users.email, users.phone, posts.user_id

---

## 5. API 설계서

**파일:** [5. API 설계서.md](5.%20API%20설계서.md)

### 주요 내용
- API 엔드포인트 목록
- 요청/응답 형식
- 인증 방식
- 에러 처리 방식
- API 버전 관리 전략

### 핵심 정보
- 기본 URL: https://api.topmktx.com/v1
- 인증 방식: JWT 토큰
- 응답 형식: JSON
- 주요 API 그룹: 사용자, 게시글, 댓글, 미디어

---

## 6. 디렉토리 구조

**파일:** [6.디렉토리구조.md](6.디렉토리구조.md)

### 주요 내용
- 프로젝트 폴더 구조
- 주요 디렉토리 설명
- 파일 명명 규칙
- 모듈 구성 방식

### 핵심 정보
- 루트 경로: `/var/www/html/topmkt`
- 주요 디렉토리: src, public, tests, docs
- 설정 파일 위치: src/config
- 업로드 디렉토리: public/assets/uploads

---

## 7. 코딩 컨벤션 스타일 가이드

**파일:** [7.코딩컨벤션스타일가이드.md](7.코딩컨벤션스타일가이드.md)

### 주요 내용
- 코드 작성 규칙
- 네이밍 컨벤션
- 주석 작성 방법
- 린팅 도구 설정
- 코드 리뷰 가이드라인

### 핵심 정보
- PHP 표준: PSR-12
- JavaScript 규칙: ESLint 구성
- 들여쓰기: 4 스페이스
- 변수 네이밍: camelCase
- 린팅 명령어: `npm run lint`

---

## 8. 개발 체크리스트

**파일:** [8.개발체크리스트.md](8.개발체크리스트.md)

### 주요 내용
- 환경 설정 체크항목
- 코드 품질 검사항목
- 보안 점검 사항
- 성능 테스트 항목
- 배포 전 확인사항

### 핵심 정보 (2025-06-02 업데이트)
- ✅ 서버 환경 구성 완료
- ✅ 데이터베이스 설치 및 설정 완료
- ✅ reCAPTCHA v3 보안 시스템 구현 완료
- ✅ SMS 인증 시스템 구현 완료
- ✅ 관리자 계정 생성 완료

---

## 9. CI/CD GitHub Actions 가이드

**파일:** [9.CI-CD_GitHub_Actions.md](9.CI-CD_GitHub_Actions.md)

### 주요 내용
- GitHub Actions 워크플로우 설명
- 배포 프로세스 정의
- 환경별(개발/스테이징/프로덕션) 설정
- 자동화된 테스트 및 배포 절차

### 핵심 정보
- 워크플로우 파일: ci.yml, staging.yml, production.yml
- 브랜치 전략: develop → staging → master
- 릴리즈 태깅 규칙: "Release X.Y.Z" 커밋 메시지
- 배포 스크립트: scripts/deploy-staging.sh, scripts/deploy-production.sh

---

## 10. 알리고 SMS 설정 가이드

**파일:** [10.알리고_SMS_설정_가이드.md](10.알리고_SMS_설정_가이드.md)

### 주요 내용
- 알리고 계정 설정 및 API 키 발급
- SMS 서비스 연동 구현
- 전화번호 포맷팅 및 유효성 검사
- 메시지 타입별 발송 방법
- SMS 보안 정책 및 비용 관리

### 핵심 정보
- SMS 서비스: 알리고 API 연동 완료
- 발송 제한: 1분당 3회, reCAPTCHA 검증
- 메시지 타입: SMS/LMS 자동 판별
- 상태: 실제 발송 테스트 완료

---

## 11. reCAPTCHA 설정 가이드

**파일:** [11.recaptcha-setup.md](11.recaptcha-setup.md)

### 주요 내용
- reCAPTCHA v3 설정 및 구현 방법
- 사이트 키와 비밀 키 관리
- 점수 기반 필터링 시스템
- 회원가입 및 SMS 발송 시 보안 검증
- 문제 해결 및 성능 최적화

### 핵심 정보
- **사이트 키**: 6LfViDErAAAAAMcOf3D-JxEhisMDhzLhEDYEahZb
- **도메인**: www.topmktx.com
- **점수 임계값**: 0.5 이상만 허용
- **상태**: 구현 완료, 실제 운영 중

---

## 12. 설치 가이드

**파일:** [12.설치가이드.md](12.설치가이드.md) **🆕 NEW**

### 주요 내용
- 시스템 요구사항 및 사전 준비
- 단계별 설치 과정 상세 안내
- 데이터베이스 설정 및 웹서버 구성
- 초기 설정 및 보안 설정 가이드
- 문제 해결 및 트러블슈팅

### 핵심 정보
- **설치 URL**: https://your-domain.com/install.php
- **관리자 계정**: 010-0000-0000 / admin123!
- **필수 요구사항**: CentOS 7.9+, Apache 2.4.6+, MariaDB 10.6.5+, PHP 8.0.30+
- **상태**: 실제 설치 검증 완료

---

## 13. 최근 개발 노트 (2025-06)

**파일:** [13.최근개발노트_2025-06.md](13.최근개발노트_2025-06.md) **🆕 NEW**

### 주요 내용
- 2025년 6월 회원가입 시스템 디버깅 과정 상세 기록
- 주요 기술 이슈 해결 방법 및 원인 분석
- Database 싱글톤 패턴, Boolean 타입 호환성 문제 해결
- 실제 테스트 결과 및 성능 지표
- 개발 원칙 및 향후 계획

### 핵심 정보
- **해결된 주요 이슈**: Database 초기화, Boolean 타입 불일치, 404 이미지 오류
- **실제 가입 성공**: 닉네임 "우리집탄이", 사용자 ID: 3
- **테스트 성공률**: SMS 발송 100%, reCAPTCHA 100%, DB 저장 100%
- **상태**: 회원가입 시스템 완전 구동, 운영 준비 완료

---

## 📚 문서 사용 가이드

### 신규 개발자를 위한 추천 읽기 순서
1. **[기획서](1.%20기획서.md)** - 프로젝트 전체 이해
2. **[설치 가이드](12.설치가이드.md)** - 개발 환경 구축
3. **[시스템 아키텍처](3.%20시스템%20아키텍처.md)** - 기술 스택 이해
4. **[DB 구조](4.DB구조.md)** - 데이터 모델 파악
5. **[디렉토리 구조](6.디렉토리구조.md)** - 코드 구조 이해
6. **[코딩 컨벤션](7.코딩컨벤션스타일가이드.md)** - 개발 표준 숙지

### 운영자를 위한 추천 읽기 순서
1. **[설치 가이드](12.설치가이드.md)** - 시스템 설치 및 구성
2. **[reCAPTCHA 설정 가이드](11.recaptcha-setup.md)** - 보안 설정
3. **[알리고 SMS 설정 가이드](10.알리고_SMS_설정_가이드.md)** - SMS 서비스 설정
4. **[개발 체크리스트](8.개발체크리스트.md)** - 운영 점검 사항
5. **[정책서](2.%20정책서.md)** - 서비스 정책 이해

---

**마지막 업데이트**: 2025-06-02 22:40:00 KST  
**문서 총 개수**: 13개  
**프로젝트 상태**: 설치 완료, 운영 준비 상태 