# 탑마케팅 개발 체크리스트

**최종 수정일:** 2025-12-19 KST

---

## 목차
1. [환경 설정](#환경-설정)  
2. [코드 품질](#코드-품질)  
3. [보안 점검](#보안-점검)  
4. [성능 테스트](#성능-테스트)  
5. [배포](#배포)  
6. [문서화](#문서화)  
7. [강의 일정 시스템](#강의-일정-시스템) **🆕 NEW**
8. [커뮤니티 게시판](#커뮤니티-게시판) **🆕 NEW**  
9. [UI/UX 개선사항](#uiux-개선사항) **🆕 NEW**
10. [기타](#기타)

---

## 1. 환경 설정
- [x] 서버 환경 구성  
  - [x] CentOS 7.9, Apache 2.4.6, PHP 8.0.30, MariaDB 10.6.5 환경 확인  
  - [x] SSL 인증서 설정 확인 (HTTPS 적용)  
  - [x] 웹 루트 디렉토리 권한 설정(`/var/www/html/topmkt`)  
- [x] 데이터베이스 설정
  - [x] MariaDB 10.6.5 설치 및 구성 완료
  - [x] topmkt 데이터베이스 생성 완료
  - [x] 필수 테이블 생성 완료 (users, sessions, logs, verification_codes, posts, comments, settings, lectures, lecture_registrations)
  - [x] 관리자 계정 생성 완료 (010-0000-0000 / admin123!)
  - [x] 인덱스 및 외래키 설정 완료
  - [x] Database 클래스 싱글톤 패턴 적용 완료
  - [x] Boolean → Integer 데이터 타입 호환성 문제 해결 완료
- [x] 로컬 개발 환경  
  - [x] Composer, Node.js 설치  
  - [x] `.env` 또는 `config.php` 환경 변수 설정  
- [x] 버전 관리  
  - [x] Git 저장소 초기화 및 주요 브랜치 전략 설정(Gitflow 또는 GitHub flow)  
  - [x] `.gitignore` 파일 설정(민감 정보 제외)  
- [x] CI/CD 파이프라인  
  - [x] GitHub Actions를 사용한 자동 테스트, 린팅, 빌드 스크립트 구성 (`.github/workflows/ci.yml`)  
  - [x] Staging/Production 분리 설정  
  - [x] 릴리즈 커밋 시 자동 태깅 및 푸시 설정 ("Release X.Y.Z" 형식의 커밋 메시지)

---

## 2. 코드 품질
- [x] 코딩 컨벤션 준수  
  - [x] 네이밍 규칙, 들여쓰기, 중괄호 스타일 확인  
  - [x] PHP CodeSniffer, ESLint 구성  
- [x] 코드 리뷰  
  - [x] Pull Request 템플릿 작성  
  - [x] 최소 1명 이상의 리뷰어 승인 필수  
- [x] 디버깅 시스템
  - [x] 상세한 로깅 시스템 구현 (error_log 활용)
  - [x] 프론트엔드 콘솔 로깅 시스템 구현
  - [x] 오류 추적 및 디버깅 정보 표시
- [x] 린팅 및 정적 분석 **🆕 완료**
  - [x] ESLint 설정 완료 (.eslintrc.json)
  - [x] PHP CodeSniffer 설정 완료 (phpcs.xml)
  - [x] 프론트엔드 JavaScript 린팅 적용
- [ ] 테스트 커버리지  
  - PHPUnit 유닛 테스트 작성 (커버리지 80% 이상 목표)  
  - 주요 기능 통합 테스트 작성  

---

## 3. 보안 점검
- [x] reCAPTCHA 보안 설정
  - [x] reCAPTCHA v3 구현 완료 (사이트 키: 6LfViDErAAAAAMcOf3D-JxEhisMDhzLhEDYEahZb)
  - [x] SMS 인증번호 발송 시 reCAPTCHA 검증 적용
  - [x] 회원가입 폼 제출 시 reCAPTCHA 검증 적용
  - [x] 점수 기반 필터링 (0.5 이상만 허용) 설정
  - [x] 실제 검증 테스트 완료
- [x] 데이터베이스 보안
  - [x] MySQL root 사용자 권한 설정 완료
  - [x] 웹 애플리케이션용 전용 사용자 (topmkt_user) 생성 완료
  - [x] SQL Injection 대비 (Prepared Statements 사용)
  - [x] 데이터베이스 연결 보안 검증 완료
- [x] 인증/세션 보안  
  - [x] 세션 하이재킹 방지 설정 확인  
  - [x] CSRF 토큰 적용 완료 
  - [x] 세션 쿠키 설정(HttpOnly, Secure, SameSite) 적용
- [x] 입력 검증  
  - [x] 모든 사용자 입력 값 서버에서 검증 (`filter_var`, `preg_match`)  
  - [x] 휴대폰 번호 010 전용 검증 적용
  - [x] 닉네임, 이메일, 비밀번호 복잡성 검증 완료
- [x] 출력 이스케이프  
  - [x] 뷰/템플릿에서 `htmlspecialchars` 적용 여부 확인  
- [x] 파일 업로드 보안 **🆕 완료**
  - [x] 이미지 파일만 업로드 허용 (JPEG, PNG, WebP, GIF)
  - [x] 파일 크기 제한 (10MB)
  - [x] 파일명 난수화로 보안 강화
  - [x] 업로드 디렉토리 보안 설정
- [ ] 외부 라이브러리 보안  
  - Composer 패키지 최신 버전 업데이트  
  - npm 패키지 취약점 스캔  
- [ ] 의존성 관리  
  - `composer audit` 또는 `npm audit` 수행  
  - 취약점 패치 계획 수립  

---

## 4. 성능 테스트
- [x] 데이터베이스 최적화  
  - [x] 인덱스 설정 완료 (`users.email`, `users.phone`, `posts.user_id`, `comments.post_id`, `lectures.id` 등)  
  - [x] 쿼리 실행 계획 분석(EXPLAIN)  
- [x] 기본 자원 최적화
  - [x] 기본 아바타 이미지 생성 (default-avatar.svg/png) 
  - [x] 404 에러 해결
  - [x] 파비콘 최적화 **🆕 완료**
- [x] 이미지 최적화 **🆕 완료**
  - [x] 업로드 이미지 자동 리사이징
  - [x] WebP 형식 지원으로 용량 최적화
  - [x] 이미지 메타데이터 제거
- [ ] 캐싱  
  - 정적 자원 캐시 정책 확인 (Cache-Control 헤더 설정)  
  - Redis 또는 Memcached 적용 여부 검토  
- [ ] 부하 테스트  
  - Apache JMeter 또는 k6를 이용한 시나리오별 부하 테스트 수행  
  - 최대 동시 사용자, API 응답 시간 측정  
- [ ] 프론트엔드 최적화  
  - 번들링, 미니파이 여부 확인  
  - 이미지, CSS, JS 압축 확인  

---

## 5. 배포
- [x] 초기 설치 완료
  - [x] 프로젝트 파일 배포 완료
  - [x] 데이터베이스 스키마 설치 완료
  - [x] 관리자 계정 설정 완료
- [ ] 배포 스크립트 검토 (`deploy.sh`, Dockerfile, docker-compose.yml)  
- [ ] 블루/그린 또는 롤링 업데이트 전략 검토  
- [ ] 백업 전략  
  - 자동 DB 백업 스케줄 (`mysqldump`) 확인  
  - 파일 시스템(uploads, logs) 백업 전략 수립  
- [ ] 모니터링 및 로깅  
  - 서버 모니터링 도구 설정(예: Prometheus, Grafana 또는 다른 솔루션)  
  - 로그 관리(Logrotate, 중앙집중식 로깅)  

---

## 6. 문서화
- [ ] API 문서 최신화 및 공개 여부 확인  
- [ ] ER 다이어그램, 시스템 아키텍처 다이어그램 최신화  
- [x] README.md 업데이트  
- [x] 릴리즈 노트 작성  
- [x] reCAPTCHA 설정 가이드 작성 완료
- [x] 설치 가이드 업데이트 필요
- [x] 네이버 지도 API 가이드 작성 완료 **🆕 완료**
- [x] 구글 지도 API 가이드 작성 완료 **🆕 완료**

---

## 7. 강의 일정 시스템 🆕 **NEW**

### 기본 기능
- [x] **강의 일정 관리 시스템 구현** 🆕 **완료**
  - [x] 강의 일정 데이터베이스 테이블 설계 및 생성 (lectures, lecture_registrations)
  - [x] LectureController 구현 (CRUD 기능)
  - [x] 강의 일정 뷰 페이지 구현 (캘린더 및 리스트 뷰)
  - [x] 강의 일정 라우팅 설정 (`/lectures`)
  - [x] 권한 관리 (기업회원만 강의 등록 가능)

### UI/UX 디자인
- [x] **캘린더 기반 일정 표시** 🆕 **완료**
  - [x] 월별 캘린더 뷰 구현
  - [x] 다중 일정 표시 UI (+N개 더보기 기능)
  - [x] 반응형 캘린더 디자인 (모바일 최적화)
  - [x] 우주 테마 디자인 적용
  - [x] 강의 유형별 색상 구분 (온라인/오프라인/하이브리드)

### 기술적 구현
- [x] **MVC 패턴 적용** 🆕 **완료**
  - [x] LectureController 구현
  - [x] Lecture 모델 구현 
  - [x] 뷰 템플릿 구현 (index, create, detail)
  - [x] 캘린더 데이터 처리 로직 구현
  - [x] 페이지네이션 및 필터링 기능

### 지도 연동 기능
- [x] **네이버 지도 API 연동** 🆕 **완료**
  - [x] 강의 장소 지도 표시 기능
  - [x] 주소 검색 및 좌표 변환
  - [x] 마커 표시 및 정보창 구현
  - [x] 반응형 지도 디자인

### 강사 프로필 시스템
- [x] **강사 이미지 갤러리** 🆕 **완료**
  - [x] 여러 강사 이미지 업로드 기능
  - [x] 이미지 갤러리 뷰어 구현
  - [x] 이미지 확대 및 네비게이션 기능
  - [x] 이미지 최적화 및 보안 처리

### 사용자 경험 개선
- [x] **사용자 인터페이스 최적화** 🆕 **완료**
  - [x] 헤더 레이아웃 정렬 및 간격 조정
  - [x] 캘린더 너비 및 스크롤 최적화
  - [x] 폰트 크기 증가로 가독성 향상
  - [x] 알림 배지 위치 수정
  - [x] 키보드 네비게이션 지원 (좌우 화살표, c/l 키)
  - [x] **사용자 메뉴 드롭다운 완전 구현** 🆕 **완료**
    - [x] 마우스 호버 및 클릭 모두 지원
    - [x] 독립적인 플로팅 드롭다운 메뉴 구현
    - [x] DOM overflow 문제 해결 (body에 직접 추가)
    - [x] CSS 우선순위 충돌 해결
    - [x] 외부 클릭 시 자동 닫힘 기능
    - [x] 완전한 스타일링 및 호버 효과 적용
  - [x] **로그인 상태 유지 기능 완전 구현** 🆕 **완료**
    - [x] Remember Me 토큰 시스템 구현
    - [x] 30일간 자동 로그인 유지 기능
    - [x] 브라우저 종료 후 자동 재로그인 처리
    - [x] 토큰 기반 보안 인증 시스템
    - [x] 세션 수명 최적화 (30일로 연장)
    - [x] 자동 토큰 갱신 및 만료 처리
    - [x] 데이터베이스 스키마 업데이트 (remember_token, remember_expires 컬럼)

---

## 8. 커뮤니티 게시판

### 기본 기능
- [x] 커뮤니티 게시판 메인 페이지 구현  
  - [x] 게시글 목록 표시 (제목, 작성자, 작성일, 조회수 등)  
  - [x] 페이지네이션 구현 (페이지당 20개 항목)  
  - [x] 검색 기능 구현 (제목 및 내용 검색)  
  - [x] 반응형 디자인 적용  
- [x] 게시글 CRUD 기능  
  - [x] 게시글 작성 기능 (로그인 사용자만)  
  - [x] 게시글 읽기 기능 (비로그인 사용자 포함)  
  - [x] 게시글 수정 기능 (작성자 또는 관리자만)  
  - [x] 게시글 삭제 기능 (작성자 또는 관리자만)  
- [x] 권한 관리  
  - [x] 작성자 권한 확인 (본인만 수정/삭제 가능)  
  - [x] 관리자 권한 확인 (모든 게시글 관리 가능)  
  - [x] 비로그인 사용자 접근 제한 (작성/수정/삭제)  

### UI/UX 디자인
- [x] 우주 테마 디자인 적용  
  - [x] 그라데이션 배경 및 색상 스키마  
  - [x] 애니메이션 효과 (페이드인, 호버 효과)  
  - [x] 아이콘 및 이모지 활용  
- [x] 반응형 웹 디자인  
  - [x] 모바일 최적화 (768px 이하)  
  - [x] 태블릿 및 데스크톱 지원  
- [x] 사용자 경험 개선  
  - [x] 로딩 애니메이션  
  - [x] 사용자 피드백 메시지  
  - [x] 키보드 단축키 지원  

### 기술적 구현
- [x] MVC 패턴 적용  
  - [x] CommunityController 구현  
  - [x] Post 모델 업데이트  
  - [x] 뷰 템플릿 구현 (index, write, detail)  
- [x] 데이터베이스 연동  
  - [x] posts 테이블 활용  
  - [x] 페이지네이션 SQL 최적화  
  - [x] 검색 기능 SQL 구현  
- [x] 라우팅 설정  
  - [x] `/community` 메인 페이지  
  - [x] `/community/write` 작성 페이지  
  - [x] `/community/posts/{id}` 상세 페이지  
  - [x] `/community/posts/{id}/edit` 수정 페이지  

### 보안 및 유효성 검사
- [x] CSRF 토큰 적용  
  - [x] 게시글 작성/수정/삭제 시 토큰 검증  
- [x] 입력 값 검증  
  - [x] 제목 길이 제한 (200자)  
  - [x] 내용 길이 제한 (10,000자)  
  - [x] HTML/XSS 방지 처리  
- [x] 권한 검증  
  - [x] 작성자 확인  
  - [x] 관리자 권한 확인  
  - [x] 로그인 상태 확인  

### 리치 텍스트 에디터
- [x] **Quill.js 에디터 구현** 🆕 **완료**
  - [x] 리치 텍스트 편집 기능
  - [x] 이미지 업로드 및 삽입 기능
  - [x] HTML 콘텐츠 안전 렌더링
  - [x] 우주 테마 커스터마이징
  - [x] CDN 차단 문제 해결

### 사용자 경험 개선
- [x] 로그인 후 원래 페이지 리다이렉트 기능 구현 **🆕 완료**
  - [x] 커뮤니티 페이지에서 로그인 링크에 redirect 파라미터 추가
  - [x] AuthController에서 리다이렉트 처리 로직 구현
  - [x] 보안 강화를 위한 URL 유효성 검증 (`isValidRedirectUrl()`)
  - [x] Open Redirect 취약점 방지 (내부 URL만 허용)
- [x] JavaScript 오류 수정 **🆕 완료**
  - [x] 'community is not defined' ReferenceError 해결
  - [x] 안전한 전역 객체 초기화 패턴 적용
  - [x] PHP 변수의 undefined 안전 처리 (null coalescing operator 사용)
- [x] 로딩 시스템 최적화 **🆕 완료**
  - [x] 일일 첫 방문 로딩 시스템 구현 (당일 재방문 시 로딩 건너뛰기)
  - [x] 로켓 애니메이션 버그 완전 해결 (리다이렉트 시 중복 실행 방지)
  - [x] localStorage 기반 방문 기록 관리

### 향후 개선 계획
- [ ] 댓글 시스템 연동  
  - [ ] 댓글 작성/수정/삭제 기능  
  - [ ] 댓글 개수 실시간 업데이트  
- [ ] 좋아요/추천 기능  
  - [ ] 게시글 좋아요 버튼  
  - [ ] 좋아요 개수 표시  
- [ ] 카테고리 시스템  
  - [ ] 게시글 카테고리 분류  
  - [ ] 카테고리별 필터링  
- [ ] 실시간 알림  
  - [ ] 새 댓글 알림  
  - [ ] 게시글 좋아요 알림  

---

## 9. UI/UX 개선사항 🆕 **NEW**

### 파비콘 및 브랜딩
- [x] **파비콘 시스템 구현** 🆕 **완료**
  - [x] 로켓 이모지 기반 파비콘 생성
  - [x] 다양한 크기 파비콘 지원 (16x16, 32x32, 180x180)
  - [x] Apple Touch Icon 지원
  - [x] 브라우저 호환성 최적화

### 프로필 이미지 시스템
- [x] **사용자 프로필 이미지 관리** 🆕 **완료**
  - [x] 프로필 이미지 업로드 기능
  - [x] 이미지 자동 리사이징 및 최적화
  - [x] 기본 아바타 이미지 시스템
  - [x] 안전한 파일 업로드 처리

### 갤러리 시스템 개선
- [x] **이미지 갤러리 네비게이션 수정** 🆕 **완료**
  - [x] 강사 프로필 이미지 전용 네비게이션
  - [x] 다른 갤러리와 독립적인 키보드 네비게이션
  - [x] 이미지 확대 시 컨텍스트 유지
  - [x] 사용자 경험 개선

---

## 10. 기타
- [x] SMS 발송 시스템 구축  
  - [x] 알리고 API 연동 완료  
  - [x] SMS 서비스 클래스 (SmsService.php) 구현  
  - [x] SMS 헬퍼 함수 (SmsHelper.php) 구현  
  - [x] 전화번호 포맷팅 및 유효성 검사 기능  
  - [x] 메시지 타입 자동 판별 (SMS/LMS) 기능  
  - [x] 실제 문자 발송 테스트 완료  
- [x] SMS 보안 및 정책
  - [x] SMS 발송 Rate Limiting (1분당 3회 제한) 적용
  - [x] reCAPTCHA를 통한 봇 차단 구현
  - [x] 의심스러운 활동 로깅 시스템 구현
- [ ] SMS 보안 및 정책 준수 (추가 개선 필요)  
  - [ ] 수신 동의 확인 시스템 구현  
  - [ ] 발송 시간 제한 (오전 8시~오후 9시) 적용  
  - [ ] 광고성 메시지 [광고] 표기 자동 추가  
- [ ] SMS 모니터링 및 관리  
  - [ ] 잔여 건수 실시간 모니터링 시스템  
  - [ ] SMS 발송 로그 관리 시스템  
  - [ ] 발송 실패 시 재발송 로직  
  - [ ] 비용 관리 및 알림 시스템  
- [ ] 알림 및 메시징 기능 테스트  
- [ ] 다국어 지원 테스트(한글, 영어 기본)  
- [ ] 접근성 점검(ARIA, 대체 텍스트 등)  
- [ ] 윤리적 해킹 또는 취약점 스캐닝 계획  
- [ ] 사용자 피드백 수집 채널 설정

---

## 🚀 현재 상태 요약 (2025-12-19)

### ✅ 완료된 주요 작업
1. **시스템 설치**: 전체 프로젝트 파일 배포 및 데이터베이스 설치 완료
2. **데이터베이스**: topmkt 데이터베이스 및 모든 필수 테이블 생성 완료
3. **보안 시스템**: reCAPTCHA v3 구현 및 SMS 보안 적용 완료
4. **관리자 계정**: 초기 관리자 계정 생성 (로그인: 010-0000-0000 / admin123!)
5. **커뮤니티 게시판**: 전체 시스템 구현 및 배포 완료 ✨
6. **강의 일정 시스템**: 캘린더 기반 강의 관리 시스템 완료 🆕 ✨
7. **사용자 인터페이스**: 헤더 드롭다운 메뉴 및 UI 최적화 완료 🆕 ✨
8. **리치 텍스트 에디터**: Quill.js 기반 에디터 구현 완료 🆕 ✨
9. **지도 연동**: 네이버 지도 API 연동 완료 🆕 ✨
10. **파비콘 시스템**: 로켓 기반 파비콘 구현 완료 🆕 ✨

### 🎯 다음 우선 작업
1. 댓글 시스템 구현 및 커뮤니티 연동
2. 좋아요/추천 기능 추가
3. 게시글 카테고리 시스템 구현
4. 파트너 매칭 게시판 구현
5. 실시간 알림 시스템 구현

### 🔗 주요 링크
- 로그인: https://www.topmktx.com/auth/login
- 회원가입: https://www.topmktx.com/auth/signup
- 커뮤니티 게시판: https://www.topmktx.com/community ⭐
- 강의 일정: https://www.topmktx.com/lectures ⭐ **NEW**
- 강의 상세 (ID: 86): https://www.topmktx.com/lectures/86 ⭐ **NEW**
- DB 연결 테스트: https://www.topmktx.com/db_test.php
