# λ„¤μ΄λ²„ μ§€λ„ API μ„¤μ • κ°€μ΄λ“

**μ‘μ„±μΌ**: 2025-06-08
**μƒνƒ**: λ„¤μ΄λ²„ ν΄λΌμ°λ“ ν”λ«νΌ Maps API (NCP) μ •μ‹ κµ¬ν„ μ™„λ£

## π― μ „ν™ μ΄μ 

- **ν•κµ­ μ§€μ—­ μ •ν™•λ„ λ†’μ**: λ„¤μ΄λ²„ μ§€λ„λ” ν•κµ­ μ£Όμ† λ°μ΄ν„°μ— μµμ ν™”
- **μ•μ •μ μΈ μ„λΉ„μ¤**: κµ­λ‚΄ μ„λΉ„μ¤λ΅ μ•μ •μ„±κ³Ό μ§€μ†μ„± λ³΄μ¥
- **λΉ„μ© ν¨μ¨μ„±**: λ” ν•©λ¦¬μ μΈ API μ”κΈ μ²΄κ³„
- **μ‚¬μ©μ μΉν™”μ„±**: ν•κµ­ μ‚¬μ©μλ“¤μ—κ² μµμ™ν• μ§€λ„ μ„λΉ„μ¤

## π”§ μ„¤μΉ λ° μ„¤μ •

### 1. λ„¤μ΄λ²„ ν΄λΌμ°λ“ ν”λ«νΌ μ„¤μ •

1. **λ„¤μ΄λ²„ ν΄λΌμ°λ“ ν”λ«νΌ κ°€μ…**
   - https://www.ncloud.com/ μ ‘μ†
   - νμ›κ°€μ… λ° λ³ΈμΈμΈμ¦ μ™„λ£

2. **Maps API μ‹ μ²­**
   - Console > AIΒ·Application Service > Maps μ„ νƒ
   - Web Dynamic Map API μ‹ μ²­
   - λ„λ©”μΈ λ“±λ΅: `topmktx.com`, `www.topmktx.com`

3. **ν΄λΌμ΄μ–ΈνΈ ID λ°κΈ‰**
   - API μ‹ μ²­ μΉμΈ ν›„ ν΄λΌμ΄μ–ΈνΈ ID λ°κΈ‰
   - ν΄λΌμ΄μ–ΈνΈ μ‹ν¬λ¦Ώλ„ ν•¨κ» λ°κΈ‰λ¨

### 2. ν”„λ΅μ νΈ μ„¤μ • νμΌ μ—…λ°μ΄νΈ

**νμΌ**: `src/config/config.php`

```php
// λ„¤μ΄λ²„ ν΄λΌμ°λ“ ν”λ«νΌ Maps API μ„¤μ • (μµμ‹ )
define('NAVER_MAPS_CLIENT_ID', 'c5yj6m062z'); // λ„¤μ΄λ²„ ν΄λΌμ°λ“ ν”λ«νΌμ—μ„ λ°κΈ‰λ°›μ€ μ‹¤μ  ν΄λΌμ΄μ–ΈνΈ ID
define('NAVER_MAPS_CLIENT_SECRET', 'ifjGgFsON2vMO2DiIFW1QLRBnEQ7l1j4w5CciajG'); // ν΄λΌμ΄μ–ΈνΈ μ‹ν¬λ¦Ώ
```

**μ¤‘μ”**: λ„¤μ΄λ²„ ν΄λΌμ°λ“ ν”λ«νΌμ—μ„ 2025λ…„ 6μ›” 8μΌ λ°κΈ‰λ°›μ€ μµμ‹  API ν‚¤ μ μ© μ™„λ£

### 3. κµ¬ν„λ κΈ°λ¥

#### β… μ™„λ£λ κµ¬ν„μ‚¬ν•­

1. **κ°•μ μƒμ„Έ νμ΄μ§€ μ§€λ„ ν‘μ‹**
   - νμΌ: `src/views/lectures/detail.php` (999-1280λ² λΌμΈ)
   - λ„¤μ΄λ²„ μ§€λ„ API v3 μ‚¬μ©
   - μ£Όμ† μλ™ geocoding
   - μ»¤μ¤ν…€ λ§μ»¤ λ° ν–¥μƒλ μ •λ³΄μ°½ ν‘μ‹
   - λ΅λ”© μ• λ‹λ©”μ΄μ… λ° λ¶€λ“λ¬μ΄ μ „ν™ ν¨κ³Ό

2. **μ£Όμ† μ²λ¦¬ λ΅μ§**
   ```php
   // μ£Όμ† μ°μ„ μμ„
   if (!empty($lecture['venue_address'])) {
       $mapAddress = $lecture['venue_address'];        // 1μμ„: μƒμ„Έ μ£Όμ†
   } elseif (!empty($lecture['venue_name'])) {
       $mapAddress = $lecture['venue_name'];          // 2μμ„: μ¥μ†λ…
   } else {
       $mapAddress = 'μ„μΈνΉλ³„μ‹ κ°•λ‚¨κµ¬ ν…ν—¤λ€λ΅ 123'; // 3μμ„: κΈ°λ³Έκ°’
   }
   ```

3. **μ¤λ¥ μ²λ¦¬ λ° λ€μ²΄ λ°©μ•**
   - API λ΅λ”© μ‹¤ν¨ μ‹ λ€μ²΄ λ©”μ‹μ§€ ν‘μ‹
   - λ„¤μ΄λ²„ μ§€λ„ μ›Ήμ‚¬μ΄νΈ λ§ν¬ μ κ³µ
   - μ£Όμ† κ²€μƒ‰ μ‹¤ν¨ μ‹ κΈ°λ³Έ μ„μΉ ν‘μ‹

#### π” μ£Όμ” κΈ°λ¥ μƒμ„Έ

1. **λ„¤μ΄λ²„ μ§€λ„ μ»¨ν…μ΄λ„**
   ```html
   <!-- λ΅λ”© μΈλ””μΌ€μ΄ν„°μ™€ μ§€λ„ μ»¨ν…μ΄λ„ -->
   <div style="position: relative;">
       <div id="mapLoading-{lecture_id}">λ΅λ”© μ• λ‹λ©”μ΄μ…</div>
       <div id="naverMap-{lecture_id}" style="width:100%; height:250px;"></div>
   </div>
   ```

2. **API μ¤ν¬λ¦½νΈ λ΅λ”© (λ„¤μ΄λ²„ ν΄λΌμ°λ“ ν”λ«νΌ NCP μ •μ‹)**
   ```javascript
   <script src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId={CLIENT_ID}&callback=initNaverMap"></script>
   ```
   
   **μ£Όμ” λ³€κ²½μ‚¬ν•­**: 
   - `ncpClientId` β†’ `ncpKeyId` (NCP νλΌλ―Έν„°λ… λ³€κ²½)
   - `callback=initNaverMap` μ¶”κ°€ (λΉ„λ™κΈ° λ΅λ”©)
   - κµ¬λ²„μ „ AI NAVER APIμ—μ„ μ‹ λ²„μ „ NCP Maps APIλ΅ μ™„μ „ μ „ν™

3. **μ§€λ„ μ΄κΈ°ν™” λ° λ§μ»¤ ν‘μ‹**
   - μ£Όμ† β†’ μΆν‘ λ³€ν™ (Geocoding)
   - μ»¤μ¤ν…€ λ§μ»¤ μ•„μ΄μ½ (κ·ΈλΌλ””μ–ΈνΈ + μ΄λ¨μ§€)
   - ν–¥μƒλ μ •λ³΄μ°½ (κΈΈμ°ΎκΈ° λ§ν¬ ν¬ν•¨)
   - λ΅λ”© μ™„λ£ μ‹ λ¶€λ“λ¬μ΄ νμ΄λ“μΈ ν¨κ³Ό
   - ν΄λ¦­ μ΄λ²¤νΈ μ²λ¦¬

4. **UX/UI κ°μ„ μ‚¬ν•­**
   - π― **μ»¤μ¤ν…€ λ§μ»¤**: κ·ΈλΌλ””μ–ΈνΈ λ°°κ²½ + μ΄λ¨μ§€ μ•„μ΄μ½
   - π“ **μ •ν™•ν• μ„μΉ**: μ΄λ΅μƒ‰ λ§μ»¤ (π“)
   - πΆ **μ°Έκ³  μ„μΉ**: μ£Όν™©μƒ‰ λ§μ»¤ (πΆ)
   - π’« **λ΅λ”© μ• λ‹λ©”μ΄μ…**: μ¤ν”Όλ„ + νμ΄λ“ μ „ν™
   - π”— **κΈΈμ°ΎκΈ° λ§ν¬**: μ •λ³΄μ°½μ—μ„ λ„¤μ΄λ²„ μ§€λ„ λ°”λ΅ μ—°κ²°

4. **μ¤νƒ€μΌλ§**
   ```css
   .naver-map-container {
       margin-top: 15px;
       border-radius: 8px;
       box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
       border: 1px solid #e2e8f0;
   }
   ```

## π“‹ API μ‚¬μ©λ‰ λ° μ”κΈ

### λ¬΄λ£ μ‚¬μ©λ‰
- **Web Dynamic Map API**: μ›” 300,000ν λ¬΄λ£
- **Geocoding API**: μ›” 300,000ν λ¬΄λ£
- **Static Map API**: μ›” 300,000ν λ¬΄λ£

### μ”κΈμ  (λ¬΄λ£ ν•λ„ μ΄κ³Ό μ‹)
- Web Dynamic Map: 1,000νλ‹Ή 1,000μ›
- Geocoding: 1,000νλ‹Ή 300μ›
- Static Map: 1,000νλ‹Ή 300μ›

## π€ κµ¬ν„ μμ‹

### κΈ°λ³Έ μ§€λ„ ν‘μ‹
```javascript
var mapOptions = {
    center: new naver.maps.LatLng(37.4979, 127.0276), // κ°•λ‚¨κµ¬ ν…ν—¤λ€λ΅
    zoom: 17,
    mapTypeControl: true,
    zoomControl: true
};

var map = new naver.maps.Map('map-container', mapOptions);
```

### μ£Όμ†λ΅ λ§μ»¤ ν‘μ‹
```javascript
naver.maps.Service.geocode({
    query: 'μ„μΈνΉλ³„μ‹ κ°•λ‚¨κµ¬ ν…ν—¤λ€λ΅ 123'
}, function(status, response) {
    if (status === naver.maps.Service.Status.OK) {
        var item = response.v2.addresses[0];
        var point = new naver.maps.LatLng(item.y, item.x);
        
        var marker = new naver.maps.Marker({
            position: point,
            map: map
        });
    }
});
```

## π”„ κµ¬κΈ€ μ§€λ„μ—μ„ λ§μ΄κ·Έλ μ΄μ…λ λ‚΄μ©

### μ κ±°λ κµ¬κΈ€ μ§€λ„ κ΄€λ ¨ μ½”λ“
- Google Maps Embed API iframe
- Google Maps API ν‚¤ ν•λ“μ½”λ”©
- `google-map-container` CSS ν΄λμ¤

### μƒλ΅ μ¶”κ°€λ λ„¤μ΄λ²„ μ§€λ„ μ½”λ“
- λ„¤μ΄λ²„ Maps API v3 JavaScript κµ¬ν„
- `naver-map-container` CSS ν΄λμ¤
- λ™μ  μ§€λ„ μƒμ„± λ° λ§μ»¤ ν‘μ‹
- μ£Όμ† κ²€μƒ‰ λ° μΆν‘ λ³€ν™

## π› οΈ μ„¤μ • λ°©λ²•

### 1. λ„¤μ΄λ²„ ν΄λΌμ°λ“ ν”λ«νΌμ—μ„ ν΄λΌμ΄μ–ΈνΈ ID λ°κΈ‰
1. https://console.ncloud.com/ λ΅κ·ΈμΈ
2. AIΒ·Application Service > Maps μ„ νƒ
3. Web Dynamic Map μ„λΉ„μ¤ μ‹ μ²­
4. λ„λ©”μΈ μ •λ³΄ λ“±λ΅: `www.topmktx.com`
5. ν΄λΌμ΄μ–ΈνΈ ID λ³µμ‚¬

### 2. μ„¤μ • νμΌ μ—…λ°μ΄νΈ
```php
// src/config/config.php μμ •
define('NAVER_MAPS_CLIENT_ID', 'λ°κΈ‰λ°›μ€_μ‹¤μ _ν΄λΌμ΄μ–ΈνΈ_ID');
define('NAVER_MAPS_CLIENT_SECRET', 'λ°κΈ‰λ°›μ€_μ‹¤μ _μ‹ν¬λ¦Ώ');
```

### 3. ν…μ¤νΈ ν™•μΈ
- https://www.topmktx.com/lectures/86 μ ‘μ†
- λ„¤μ΄λ²„ μ§€λ„κ°€ μ •μƒ ν‘μ‹λλ”μ§€ ν™•μΈ
- λ§μ»¤ ν΄λ¦­ μ‹ μ •λ³΄μ°½ ν‘μ‹ ν™•μΈ

## π“± λ¨λ°”μΌ λ€μ‘

λ„¤μ΄λ²„ μ§€λ„ APIλ” μλ™μΌλ΅ λ¨λ°”μΌ ν™κ²½μ— μµμ ν™”λ©λ‹λ‹¤:
- ν„°μΉ μ μ¤μ² μ§€μ› (ν™•λ€/μ¶•μ†, μ΄λ™)
- λ°μ‘ν• λ μ΄μ•„μ›ƒ μλ™ μ μ©
- λ¨λ°”μΌ λΈλΌμ°μ € νΈν™μ„± λ³΄μ¥

## π¨ μ£Όμμ‚¬ν•­

1. **ν΄λΌμ΄μ–ΈνΈ ID λ³΄μ•**
   - μ‹¤μ  μ΄μν™κ²½μ—μ„λ” λ„λ©”μΈ μ ν• μ„¤μ • ν•„μ
   - ν΄λΌμ΄μ–ΈνΈ μ‹ν¬λ¦Ώμ€ μ„λ²„ μ‚¬μ΄λ“μ—μ„λ§ μ‚¬μ©

2. **API νΈμ¶ μµμ ν™”**
   - κ°™μ€ μ£Όμ†μ— λ€ν• μ¤‘λ³µ geocoding λ°©μ§€
   - μΊμ‹± κµ¬ν„ κ³ λ ¤

3. **λΈλΌμ°μ € νΈν™μ„±**
   - IE 9 μ΄μƒ μ§€μ›
   - λ¨λ λΈλΌμ°μ €μ—μ„ μµμ  μ„±λ¥

## π” λ¬Έμ  ν•΄κ²°

### μ§€λ„κ°€ ν‘μ‹λμ§€ μ•λ” κ²½μ°
1. ν΄λΌμ΄μ–ΈνΈ ID ν™•μΈ
2. λ„λ©”μΈ λ“±λ΅ μƒνƒ ν™•μΈ
3. λΈλΌμ°μ € μ½μ†” μ¤λ¥ λ©”μ‹μ§€ ν™•μΈ
4. API μ‚¬μ©λ‰ ν•λ„ ν™•μΈ

### μ£Όμ† κ²€μƒ‰μ΄ λμ§€ μ•λ” κ²½μ°
1. μ£Όμ† ν•μ‹ ν™•μΈ (λ„λ΅λ… μ£Όμ† κ¶μ¥)
2. νΉμλ¬Έμ μ κ±°
3. κ²€μƒ‰μ–΄ κΈΈμ΄ ν™•μΈ

## π“ μ„±λ¥ μµμ ν™”

1. **μ§€μ—° λ΅λ”©**: νμ΄μ§€ λ΅λ”© ν›„ μ§€λ„ API μ¤ν¬λ¦½νΈ λ΅λ“
2. **μ¤λ¥ μ²λ¦¬**: API λ΅λ”© μ‹¤ν¨ μ‹ λ€μ²΄ UI μ κ³µ
3. **μΊμ‹±**: μΆν‘ μ •λ³΄ λ΅μ»¬ μ¤ν† λ¦¬μ§€ μΊμ‹±

---

## β… λ„¤μ΄λ²„ ν΄λΌμ°λ“ ν”λ«νΌ Maps API κµ¬ν„ μ™„λ£

### π‰ μ„±κ³µμ μΌλ΅ ν•΄κ²°λ λ¬Έμ λ“¤
1. **β… λ„¤μ΄λ²„ ν΄λΌμ°λ“ ν”λ«νΌ μµμ‹  API μ μ©**: `oapi.map.naver.com` λ„λ©”μΈ μ‚¬μ©
2. **β… 2025λ…„ 6μ›” 8μΌ λ°κΈ‰ API ν‚¤ μ μ©**: ν΄λΌμ΄μ–ΈνΈ ID `c5yj6m062z` ν™μ„±ν™”
3. **β… CSP μ •μ±… μ™„μ „ ν•΄κ²°**: λ¨λ“  λ„¤μ΄λ²„ μ§€λ„ κ΄€λ ¨ λ„λ©”μΈ ν—μ©

### π€ κµ¬ν„λ μµμ‹  κΈ°λ¥λ“¤
- β… **λ„¤μ΄λ²„ ν΄λΌμ°λ“ ν”λ«νΌ Maps API v3** μµμ‹  λ²„μ „ μ‚¬μ©
- β… **κ°•ν™”λ μ¤λ¥ μ²λ¦¬**: API λ΅λ”© μ‹¤ν¨ μ‹ μλ™ λ€μ²΄ λ©”μ‹μ§€
- β… **μ§€λ¥ν• Geocoding**: μ£Όμ† κ²€μƒ‰ μ„±κ³µ μ‹ μ •ν™•ν• μ„μΉ ν‘μ‹
- β… **μ΄μ¤‘ λ§μ»¤ μ‹μ¤ν…**: μ •ν™•ν• μ„μΉ(π“) vs μ°Έκ³  μ„μΉ(πΆ)
- β… **ν–¥μƒλ μ •λ³΄μ°½**: κΈΈμ°ΎκΈ° λ§ν¬ λ° μ™Έλ¶€ μ§€λ„ μ—°λ™
- β… **λ¶€λ“λ¬μ΄ λ΅λ”© μ• λ‹λ©”μ΄μ…**: νμ΄λ“μΈ/μ•„μ›ƒ ν¨κ³Ό

### π“ ν„μ¬ ν™μ„±ν™”λ κΈ°λ¥
1. **μ‹¤μ‹κ°„ μ§€λ„ ν‘μ‹**: https://www.topmktx.com/lectures/86
2. **μ£Όμ† μλ™ κ²€μƒ‰**: κ°•μ μ£Όμ† κΈ°λ° μ •ν™•ν• μ„μΉ ν‘μ‹
3. **μΈν„°λ™ν‹°λΈ λ§μ»¤**: ν΄λ¦­ μ‹ μ •λ³΄μ°½ ν† κΈ€
4. **μ™Έλ¶€ μ—°λ™**: λ„¤μ΄λ²„ μ§€λ„ μ›Ήμ‚¬μ΄νΈ μ§μ ‘ μ—°κ²°

### π”§ κΈ°μ  μ„Έλ¶€μ‚¬ν•­
- **API λ„λ©”μΈ**: `oapi.map.naver.com` (λ„¤μ΄λ²„ ν΄λΌμ°λ“ ν”λ«νΌ NCP μ „μ©)
- **νλΌλ―Έν„°**: `ncpKeyId` (κΈ°μ΅΄ `ncpClientId`μ—μ„ λ³€κ²½)
- **ν΄λΌμ΄μ–ΈνΈ ID**: `c5yj6m062z` (2025-06-08 λ°κΈ‰)
- **λ΅λ”© λ°©μ‹**: μ½λ°± κΈ°λ° λΉ„λ™κΈ° λ΅λ”©
- **CSP μ •μ±…**: λ¨λ“  λ„¤μ΄λ²„ μ§€λ„ λ„λ©”μΈ ν—μ© μ™„λ£

---

## π― μµμΆ… λ§μ΄κ·Έλ μ΄μ… μƒν™©

π‰ **κµ¬κΈ€ μ§€λ„ β†’ λ„¤μ΄λ²„ ν΄λΌμ°λ“ ν”λ«νΌ (NCP) Maps API μ „ν™ 100% μ™„λ£**
- β… κµ¬κΈ€ μ§€λ„ μ™„μ „ μ κ±°
- β… κµ¬λ²„μ „ AI NAVER API β†’ μ‹ λ²„μ „ NCP Maps API μ „ν™ μ™„λ£
- β… `ncpKeyId` νλΌλ―Έν„° λ° μ½λ°± κΈ°λ° λ΅λ”© μ μ©
- β… 2025λ…„ 6μ›” 8μΌ λ°κΈ‰ μµμ‹  API ν‚¤ μ μ©
- β… 2025λ…„ 4μ›” 17μΌ μ΄ν›„ μ‹ κ· μ°¨λ‹¨ μ΄μ ν•΄κ²°
- β… λ¨λ“  CSP μ •μ±… λ° λ³΄μ• μ΄μ ν•΄κ²°

**ν„μ¬ μƒνƒ**: λ„¤μ΄λ²„ ν΄λΌμ°λ“ ν”λ«νΌ Maps API μ •μƒ μ„λΉ„μ¤ μ κ³µ μ¤‘ β¨

---

**μµμΆ… μ—…λ°μ΄νΈ**: 2025-06-08
**λ‹΄λ‹Ήμ**: Claude Code Assistant
**μƒνƒ**: λ„¤μ΄λ²„ ν΄λΌμ°λ“ ν”λ«νΌ Maps API μ™„μ „ κµ¬ν„ μ™„λ£, μ •μƒ μ΄μ μ¤‘