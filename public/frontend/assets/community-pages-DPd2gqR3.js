import{r as e,j as n,R as o,a as r,b as t,L as s,c as i}from"./react-vendor-Bzu6yK0-.js";import{a,u as m,C as c}from"./api-hooks-CAwG_CXt.js";const l=new class{async login(e){try{const n=await a.post("/api/auth/login",e);if(n.data.success&&n.data.data){const{token:o,user:r}=n.data.data,t=e.remember?localStorage:sessionStorage;return t.setItem("auth_token",o),t.setItem("user_data",JSON.stringify(r)),n.data}throw new Error(n.data.message||"로그인에 실패했습니다.")}catch(n){if(n.response?.data?.message)throw new Error(n.response.data.message);throw new Error("로그인 중 오류가 발생했습니다.")}}async signup(e){try{let o=(await a.post("/auth/signup",e)).data;if("string"==typeof o){const e=o.match(/\{.*\}$/s);if(!e)throw new Error("올바르지 않은 서버 응답입니다.");try{o=JSON.parse(e[0])}catch(n){throw new Error("서버 응답 파싱에 실패했습니다.")}}if(o.success&&o.data){const{token:e,user:n}=o.data;return sessionStorage.setItem("auth_token",e),sessionStorage.setItem("user_data",JSON.stringify(n)),o}throw new Error(o.message||"회원가입에 실패했습니다.")}catch(o){if(o.response?.data?.message)throw new Error(o.response.data.message);throw new Error("회원가입 중 오류가 발생했습니다.")}}async logout(){try{await a.post("/auth/logout")}catch(e){}finally{localStorage.removeItem("auth_token"),sessionStorage.removeItem("auth_token"),localStorage.removeItem("user_data"),sessionStorage.removeItem("user_data")}}async getCurrentUser(){try{const e=await a.get("/auth/me");if(e.data.success&&e.data.data){return(localStorage.getItem("auth_token")?localStorage:sessionStorage).setItem("user_data",JSON.stringify(e.data.data)),e.data}throw new Error(e.data.message||"사용자 정보를 가져올 수 없습니다.")}catch(e){if(401===e.response?.status)throw this.logout(),new Error("로그인이 필요합니다.");throw new Error("사용자 정보를 가져오는 중 오류가 발생했습니다.")}}async refreshToken(){try{const e=await a.post("/auth/refresh");if(e.data.success&&e.data.data){const{token:n}=e.data.data;return(localStorage.getItem("auth_token")?localStorage:sessionStorage).setItem("auth_token",n),n}throw new Error("토큰 갱신에 실패했습니다.")}catch{throw this.logout(),new Error("인증이 만료되었습니다. 다시 로그인해주세요.")}}async sendVerificationCode(e,n){try{const o=await a.post("/auth/verification/send",{phone:e,type:n});if(!o.data.success)throw new Error(o.data.message||"인증번호 발송에 실패했습니다.")}catch(o){if(o.response?.data?.message)throw new Error(o.response.data.message);throw new Error("인증번호 발송 중 오류가 발생했습니다.")}}async verifyCode(e,n,o){try{const r=await a.post("/auth/verification/verify",{phone:e,code:n,type:o});if(!r.data.success)throw new Error(r.data.message||"인증번호가 올바르지 않습니다.")}catch(r){if(r.response?.data?.message)throw new Error(r.response.data.message);throw new Error("인증번호 확인 중 오류가 발생했습니다.")}}async requestPasswordReset(e){try{const n=await a.post("/auth/password/reset-request",{phone:e});if(!n.data.success)throw new Error(n.data.message||"비밀번호 재설정 요청에 실패했습니다.")}catch(n){if(n.response?.data?.message)throw new Error(n.response.data.message);throw new Error("비밀번호 재설정 요청 중 오류가 발생했습니다.")}}async resetPassword(e){try{const n=await a.post("/auth/password/reset",e);if(!n.data.success)throw new Error(n.data.message||"비밀번호 재설정에 실패했습니다.")}catch(n){if(n.response?.data?.message)throw new Error(n.response.data.message);throw new Error("비밀번호 재설정 중 오류가 발생했습니다.")}}async changePassword(e,n,o){try{const r=await a.post("/auth/password/change",{current_password:e,new_password:n,new_password_confirmation:o});if(!r.data.success)throw new Error(r.data.message||"비밀번호 변경에 실패했습니다.")}catch(r){if(r.response?.data?.message)throw new Error(r.response.data.message);throw new Error("비밀번호 변경 중 오류가 발생했습니다.")}}async requestEmailVerification(){try{const e=await a.post("/auth/email/verification-request");if(!e.data.success)throw new Error(e.data.message||"이메일 인증 요청에 실패했습니다.")}catch(e){if(e.response?.data?.message)throw new Error(e.response.data.message);throw new Error("이메일 인증 요청 중 오류가 발생했습니다.")}}async verifyEmail(e){try{const n=await a.post("/auth/email/verify",{token:e});if(!n.data.success)throw new Error(n.data.message||"이메일 인증에 실패했습니다.")}catch(n){if(n.response?.data?.message)throw new Error(n.response.data.message);throw new Error("이메일 인증 중 오류가 발생했습니다.")}}getToken(){return localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token")}getStoredUser(){try{const e=localStorage.getItem("user_data")||sessionStorage.getItem("user_data");return e?JSON.parse(e):null}catch(e){return null}}isAuthenticated(){return!!this.getToken()}async socialLogin(e,n){try{const o=await a.post(`/auth/social/${e}`,{access_token:n});if(o.data.success&&o.data.data){const{token:e,user:n}=o.data.data;return sessionStorage.setItem("auth_token",e),sessionStorage.setItem("user_data",JSON.stringify(n)),o.data.data}throw new Error(o.data.message||"소셜 로그인에 실패했습니다.")}catch(o){if(o.response?.data?.message)throw new Error(o.response.data.message);throw new Error("소셜 로그인 중 오류가 발생했습니다.")}}},d={user:null,isAuthenticated:!1,isLoading:!0,error:null},u=(e,n)=>{switch(n.type){case"AUTH_START":return{...e,isLoading:!0,error:null};case"AUTH_SUCCESS":return{...e,user:n.payload,isAuthenticated:!0,isLoading:!1,error:null};case"AUTH_ERROR":return{...e,user:null,isAuthenticated:!1,isLoading:!1,error:n.payload};case"AUTH_LOGOUT":return{...e,user:null,isAuthenticated:!1,isLoading:!1,error:null};case"CLEAR_ERROR":return{...e,error:null};case"UPDATE_USER":return{...e,user:e.user?{...e.user,...n.payload}:null};default:return e}},f=e.createContext(void 0),p=({children:o})=>{const[r,t]=e.useReducer(u,d);e.useEffect(()=>{s()},[]);const s=async()=>{try{const n=l.getToken();if(!n)return void t({type:"AUTH_LOGOUT"});const o=l.getStoredUser();if(o)return void t({type:"AUTH_SUCCESS",payload:o});t({type:"AUTH_START"});try{const e=await l.getCurrentUser();e.success&&e.data?t({type:"AUTH_SUCCESS",payload:e.data}):t({type:"AUTH_LOGOUT"})}catch(e){if(n){const e={id:0,nickname:"사용자",phone:"",email:"",role:"ROLE_USER",marketing_agreed:!1,phone_verified:!1,email_verified:!1,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()};t({type:"AUTH_SUCCESS",payload:e})}else t({type:"AUTH_LOGOUT"})}}catch(n){t({type:"AUTH_LOGOUT"})}},i={...r,login:async(e,n,o=!1)=>{try{t({type:"AUTH_START"});const r=await l.login({phone:e,password:n,remember:o});if(!r.success||!r.data?.user)throw new Error(r.message||"로그인에 실패했습니다.");t({type:"AUTH_SUCCESS",payload:r.data.user})}catch(r){const e=r instanceof Error?r.message:"로그인에 실패했습니다.";throw t({type:"AUTH_ERROR",payload:e}),r}},logout:async()=>{try{await l.logout()}catch(e){}finally{t({type:"AUTH_LOGOUT"})}},signup:async e=>{try{t({type:"AUTH_START"});const n=await l.signup(e);if(!n.success||!n.data?.user)throw new Error(n.message||"회원가입에 실패했습니다.");t({type:"AUTH_SUCCESS",payload:n.data.user})}catch(n){const e=n instanceof Error?n.message:"회원가입에 실패했습니다.";throw t({type:"AUTH_ERROR",payload:e}),n}},updateUser:e=>{t({type:"UPDATE_USER",payload:e})},clearError:()=>{t({type:"CLEAR_ERROR"})},checkAuth:s};return n.jsxDEV(f.Provider,{value:i,children:o},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/context/AuthContext.tsx",lineNumber:243,columnNumber:5},void 0)},g=()=>{const n=e.useContext(f);if(void 0===n)throw new Error("useAuth must be used within an AuthProvider");return n},N=e.createContext(void 0),b=({children:o,maxToasts:r=5})=>{const[t,s]=e.useState([]),i=e.useCallback(e=>{const n=Math.random().toString(36).substr(2,9),o={id:n,duration:e.duration||5e3,...e};s(e=>[o,...e].slice(0,r)),o.duration&&o.duration>0&&setTimeout(()=>{s(e=>e.filter(e=>e.id!==n))},o.duration)},[r]),a=e.useCallback(e=>{s(n=>n.filter(n=>n.id!==e))},[]),m=e.useCallback(()=>{s([])},[]),c=e.useCallback((e,n,o)=>{i({type:"success",message:e,title:n,duration:o||5e3})},[i]),l=e.useCallback((e,n,o)=>{i({type:"error",message:e,title:n,duration:o||7e3})},[i]),d=e.useCallback((e,n,o)=>{i({type:"warning",message:e,title:n,duration:o||6e3})},[i]),u=e.useCallback((e,n,o)=>{i({type:"info",message:e,title:n,duration:o||5e3})},[i]),f={toasts:t,addToast:i,removeToast:a,clearToasts:m,success:c,error:l,warning:d,info:u};return n.jsxDEV(N.Provider,{value:f,children:o},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/context/ToastContext.tsx",lineNumber:101,columnNumber:5},void 0)},v=()=>{const n=e.useContext(N);if(void 0===n)throw new Error("useToast must be used within a ToastProvider");return n};function x(...e){return e.filter(Boolean).join(" ").replace(/\s+/g," ").trim()}const h=({size:o="md",message:r,overlay:t=!1,className:s,fullScreen:i=!1})=>{const[a,m]=e.useState(0),[c,l]=e.useState(20),d=["데이터를 불러오는 중...","서버와 연결 중...","콘텐츠 준비 중...","거의 완료되었습니다..."];e.useEffect(()=>{if(!i)return;const e=setInterval(()=>{m(e=>(e+1)%d.length)},1e3),n=setInterval(()=>{l(e=>e<90?Math.min(e+15*Math.random(),90):e)},300);return()=>{clearInterval(e),clearInterval(n)}},[i,d.length]);if(i)return n.jsxDEV(n.Fragment,{children:[n.jsxDEV("style",{children:"\n            /* 🚀 탑마케팅 로딩 UI - 기존과 완전 동일 */\n            .loading-overlay {\n              position: fixed;\n              top: 0;\n              left: 0;\n              width: 100vw;\n              height: 100vh;\n              background: rgba(15, 23, 42, 0.6);\n              display: flex;\n              flex-direction: column;\n              justify-content: center;\n              align-items: center;\n              z-index: 10000;\n              opacity: 1;\n              transition: opacity 0.3s ease-out;\n              backdrop-filter: blur(5px);\n            }\n            \n            .loading-overlay.hide {\n              opacity: 0;\n              pointer-events: none;\n            }\n            \n            .loading-container {\n              text-align: center;\n              position: relative;\n              z-index: 2;\n              max-width: 400px;\n              width: 90%;\n            }\n            \n            .loading-icon {\n              position: relative;\n              margin-bottom: 30px;\n              height: 80px;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n            }\n            \n            .rocket-main {\n              font-size: 3rem;\n              color: #3b82f6;\n              display: inline-block;\n              animation: gentleFloat 2s ease-in-out infinite;\n              filter: drop-shadow(0 0 10px rgba(59, 130, 246, 0.3));\n              position: relative;\n              z-index: 2;\n            }\n            \n            .loading-spinner {\n              position: absolute;\n              width: 100px;\n              height: 100px;\n              border: 3px solid rgba(59, 130, 246, 0.1);\n              border-top: 3px solid #3b82f6;\n              border-radius: 50%;\n              animation: spin 1s linear infinite;\n            }\n            \n            @keyframes gentleFloat {\n              0%, 100% {\n                transform: translateY(0px);\n              }\n              50% {\n                transform: translateY(-10px);\n              }\n            }\n            \n            @keyframes spin {\n              0% {\n                transform: rotate(0deg);\n              }\n              100% {\n                transform: rotate(360deg);\n              }\n            }\n            \n            .loading-stage {\n              color: #ffffff;\n              font-size: 1rem;\n              font-weight: 500;\n              margin-bottom: 20px;\n              opacity: 1;\n              transition: opacity 0.3s ease;\n              text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);\n            }\n            \n            .progress-container {\n              width: 100%;\n              max-width: 200px;\n              height: 4px;\n              background: rgba(255, 255, 255, 0.1);\n              border-radius: 2px;\n              overflow: hidden;\n              margin: 0 auto;\n              position: relative;\n            }\n            \n            .progress-bar {\n              height: 100%;\n              background: #3b82f6;\n              border-radius: 2px;\n              width: 0%;\n              transition: width 0.5s ease;\n              position: relative;\n            }\n            \n            @media (max-width: 768px) {\n              .loading-container {\n                max-width: 90%;\n              }\n              \n              .rocket-main {\n                font-size: 2.5rem;\n              }\n              \n              .loading-spinner {\n                width: 80px;\n                height: 80px;\n              }\n              \n              .loading-stage {\n                font-size: 0.9rem;\n              }\n            }\n          "},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/LoadingSpinner.tsx",lineNumber:64,columnNumber:9},void 0),n.jsxDEV("div",{className:"loading-overlay",children:n.jsxDEV("div",{className:"loading-container",children:[n.jsxDEV("div",{className:"loading-icon",children:[n.jsxDEV("div",{className:"rocket-main",children:"🚀"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/LoadingSpinner.tsx",lineNumber:197,columnNumber:15},void 0),n.jsxDEV("div",{className:"loading-spinner"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/LoadingSpinner.tsx",lineNumber:198,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/components/common/LoadingSpinner.tsx",lineNumber:196,columnNumber:13},void 0),n.jsxDEV("div",{className:"loading-stage",children:r||d[a]},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/LoadingSpinner.tsx",lineNumber:201,columnNumber:13},void 0),n.jsxDEV("div",{className:"progress-container",children:n.jsxDEV("div",{className:"progress-bar",style:{width:`${c}%`}},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/LoadingSpinner.tsx",lineNumber:206,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/LoadingSpinner.tsx",lineNumber:205,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/components/common/LoadingSpinner.tsx",lineNumber:195,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/LoadingSpinner.tsx",lineNumber:194,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/components/common/LoadingSpinner.tsx",lineNumber:63,columnNumber:7},void 0);const u=n.jsxDEV("div",{className:x("flex flex-col items-center justify-center",s),children:[n.jsxDEV("div",{className:"relative",children:n.jsxDEV("div",{className:x("animate-spin rounded-full border-4 border-gray-200 border-t-blue-600",{sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"}[o])},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/LoadingSpinner.tsx",lineNumber:220,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/LoadingSpinner.tsx",lineNumber:219,columnNumber:7},void 0),r&&n.jsxDEV("p",{className:"mt-3 text-sm text-gray-600 text-center max-w-xs",children:r},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/LoadingSpinner.tsx",lineNumber:228,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/components/common/LoadingSpinner.tsx",lineNumber:218,columnNumber:5},void 0);return t?n.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxDEV("div",{className:"bg-white rounded-lg p-8 max-w-sm w-full mx-4",children:u},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/LoadingSpinner.tsx",lineNumber:238,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/LoadingSpinner.tsx",lineNumber:237,columnNumber:7},void 0):u},y=e.createContext(void 0),w=({children:o})=>{const[r,t]=e.useState(!1),[s,i]=e.useState(0),[a,m]=e.useState(),[c]=e.useState(300),[l,d]=e.useState(null),u=e.useCallback(e=>{t(!0),d(Date.now()),m(e),document.body.style.overflow="hidden"},[]),f=e.useCallback(()=>{const e=l?Date.now()-l:0,n=Math.max(0,c-e);setTimeout(()=>{t(!1),m(void 0),d(null),document.body.style.overflow=""},n)},[l,c]),p=e.useCallback(e=>{},[]),g=e.useCallback(e=>{m(e)},[]),N=e.useCallback(()=>{i(e=>{const n=e+1;return 1===n&&u("서버와 연결 중..."),n})},[u]),b=e.useCallback(()=>{i(e=>{const n=Math.max(0,e-1);return 0===n&&setTimeout(f,300),n})},[f]),v={isLoading:r,message:a,activeRequests:s,showLoading:u,hideLoading:f,setProgress:p,setMessage:g,startRequest:N,endRequest:b};return n.jsxDEV(y.Provider,{value:v,children:[o,r&&n.jsxDEV(h,{fullScreen:!0,message:a},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/context/LoadingContext.tsx",lineNumber:97,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/context/LoadingContext.tsx",lineNumber:94,columnNumber:5},void 0)},k=()=>{const n=e.useContext(y);if(void 0===n)throw new Error("useLoading must be used within a LoadingProvider");return n},P={show:e=>{window.dispatchEvent(new CustomEvent("showLoading",{detail:{message:e}}))},hide:()=>{window.dispatchEvent(new CustomEvent("hideLoading"))},setProgress:e=>{window.dispatchEvent(new CustomEvent("setProgress",{detail:{percent:e}}))},setMessage:e=>{window.dispatchEvent(new CustomEvent("setMessage",{detail:{message:e}}))},setStage:e=>{window.dispatchEvent(new CustomEvent("setMessage",{detail:{message:e}}))},custom:(e={})=>{window.dispatchEvent(new CustomEvent("customLoading",{detail:e}))}},E=()=>{const e=k();return o.useEffect(()=>{const n=n=>{e.showLoading(n.detail?.message)},o=()=>{e.hideLoading()},r=n=>{e.setProgress(n.detail?.percent||0)},t=n=>{e.setMessage(n.detail?.message||"")},s=n=>{const{stages:o=["처리 중..."],duration:r=3e3,autoHide:t=!0}=n.detail||{};if(e.showLoading(),o.length>0){const n=r/o.length;let s=0;e.setMessage(o[0]);const i=setInterval(()=>{s++,s<o.length?e.setMessage(o[s]):(clearInterval(i),t&&setTimeout(()=>{e.hideLoading()},500))},n)}};return window.addEventListener("showLoading",n),window.addEventListener("hideLoading",o),window.addEventListener("setProgress",r),window.addEventListener("setMessage",t),window.addEventListener("customLoading",s),()=>{window.removeEventListener("showLoading",n),window.removeEventListener("hideLoading",o),window.removeEventListener("setProgress",r),window.removeEventListener("setMessage",t),window.removeEventListener("customLoading",s)}},[e]),null},D=e=>{const{title:n,description:o,keywords:r,ogType:t="website",ogTitle:s,ogDescription:i,ogImage:a,structuredData:m}=e,c="탑마케팅",l=`${window.location.origin}/assets/images/topmkt-og-image.png?v=${(new Date).toISOString().slice(0,10).replace(/-/g,"")}`,d=n?`${n} - ${c}`:`${c} - 마케팅 전문가들의 지식 공유 플랫폼`,u=o||"마케팅 전문가들이 모여 지식을 공유하고 함께 성장하는 플랫폼입니다. 세미나, 워크샵, 커뮤니티를 통해 최신 마케팅 트렌드를 만나보세요.";return{title:d,description:u,keywords:r||"마케팅, 네트워크 마케팅, 세미나, 워크샵, 커뮤니티, 마케팅 교육, 온라인 강의, 탑마케팅, TopMKT, 비즈니스 매칭, 마케팅 플랫폼",ogType:t,ogTitle:s||d,ogDescription:i||u,ogImage:a||l,ogUrl:window.location.href,structuredData:m}},j=({title:n,description:o,keywords:r,ogType:t,ogTitle:s,ogDescription:i,ogImage:a,ogUrl:m,structuredData:c})=>(e.useEffect(()=>{document.title=n;const e=(e,n,o=!1)=>{const r=o?"property":"name";let t=document.querySelector(`meta[${r}="${e}"]`);t||(t=document.createElement("meta"),t.setAttribute(r,e),document.head.appendChild(t)),t.content=n},l=(e,n)=>{let o=document.querySelector(`script[data-id="${e}"]`);o||(o=document.createElement("script"),o.type="application/ld+json",o.setAttribute("data-id",e),document.head.appendChild(o)),o.textContent=JSON.stringify(n)};e("description",o),e("keywords",r),e("author","(주)윈카드"),e("robots","index, follow"),e("googlebot","index, follow"),e("theme-color","#6366f1"),e("msapplication-navbutton-color","#6366f1"),e("apple-mobile-web-app-status-bar-style","black-translucent"),e("apple-mobile-web-app-capable","yes"),e("mobile-web-app-capable","yes"),((e,n)=>{let o=document.querySelector(`link[rel="${e}"]`);o||(o=document.createElement("link"),o.rel=e,document.head.appendChild(o)),o.href=n})("canonical",m),e("og:type",t,!0),e("og:url",m,!0),e("og:title",s,!0),e("og:description",i,!0),e("og:image",a,!0),e("og:image:width","1200",!0),e("og:image:height","630",!0),e("og:site_name","탑마케팅",!0),e("og:locale","ko_KR",!0),e("twitter:card","summary_large_image",!0),e("twitter:url",m,!0),e("twitter:title",s,!0),e("twitter:description",i,!0),e("twitter:image",a,!0),c&&l("custom-structured-data",c),l("default-structured-data",{"@context":"https://schema.org","@type":"WebSite",name:"탑마케팅",alternateName:"TopMKT",url:"https://www.topmktx.com",description:"글로벌 네트워크 마케팅 리더들의 커뮤니티 플랫폼",publisher:{"@type":"Organization",name:"(주)윈카드",logo:{"@type":"ImageObject",url:"https://www.topmktx.com/assets/images/logo.png"}},potentialAction:{"@type":"SearchAction",target:"https://www.topmktx.com/community?search={search_term_string}","query-input":"required name=search_term_string"}})},[n,o,r,t,s,i,a,m,c]),null),V=e.forwardRef(({className:e,variant:o="primary",size:r="md",loading:t=!1,fullWidth:s=!1,leftIcon:i,rightIcon:a,disabled:m,children:c,...l},d)=>{const u=s?"w-full":"",f=m||t;return n.jsxDEV("button",{className:x(["inline-flex items-center justify-center","font-medium transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed","rounded-lg"].join(" "),{primary:["bg-gradient-to-r from-blue-800 to-blue-700 text-white","hover:from-blue-900 hover:to-blue-800 active:from-blue-900 active:to-blue-800","focus:ring-blue-600","shadow-sm hover:shadow-md"],secondary:["bg-gray-100 text-gray-900","hover:bg-gray-200 active:bg-gray-300","focus:ring-gray-500","border border-gray-300"],outline:["bg-transparent text-blue-800 border-2 border-blue-800","hover:bg-blue-50 active:bg-blue-100","focus:ring-blue-600"],ghost:["bg-transparent text-gray-700","hover:bg-gray-100 active:bg-gray-200","focus:ring-gray-500"],danger:["bg-red-600 text-white","hover:bg-red-700 active:bg-red-800","focus:ring-red-500","shadow-sm hover:shadow-md"]}[o].join(" "),{sm:"text-sm px-3 py-1.5 gap-1.5",md:"text-sm px-4 py-2 gap-2",lg:"text-base px-6 py-3 gap-2",xl:"text-lg px-8 py-4 gap-3"}[r],u,e),disabled:f,ref:d,...l,children:t?n.jsxDEV(n.Fragment,{children:[n.jsxDEV("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[n.jsxDEV("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/Button.tsx",lineNumber:100,columnNumber:15},void 0),n.jsxDEV("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/Button.tsx",lineNumber:108,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/components/common/Button.tsx",lineNumber:95,columnNumber:13},void 0),"처리 중..."]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/components/common/Button.tsx",lineNumber:94,columnNumber:11},void 0):n.jsxDEV(n.Fragment,{children:[i&&n.jsxDEV("span",{className:"flex-shrink-0",children:i},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/Button.tsx",lineNumber:119,columnNumber:15},void 0),n.jsxDEV("span",{children:c},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/Button.tsx",lineNumber:123,columnNumber:13},void 0),a&&n.jsxDEV("span",{className:"flex-shrink-0",children:a},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/Button.tsx",lineNumber:125,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/components/common/Button.tsx",lineNumber:117,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/Button.tsx",lineNumber:81,columnNumber:7},void 0)});V.displayName="Button";const C=e.forwardRef(({className:e,type:o="text",label:r,error:t,hint:s,leftIcon:i,rightIcon:a,fullWidth:m=!1,disabled:c,...l},d)=>{const u=i||a?"px-10 py-3":"px-4 py-3",f=t?"border-red-300 focus:ring-red-500":"border-gray-300 hover:border-gray-400",p=m?"w-full":"";return n.jsxDEV("div",{className:x("flex flex-col",p),children:[r&&n.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r,l.required&&n.jsxDEV("span",{className:"text-red-500 ml-1",children:"*"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/Input.tsx",lineNumber:49,columnNumber:32},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/components/common/Input.tsx",lineNumber:47,columnNumber:11},void 0),n.jsxDEV("div",{className:"relative",children:[i&&n.jsxDEV("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsxDEV("span",{className:"text-gray-400",children:i},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/Input.tsx",lineNumber:56,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/Input.tsx",lineNumber:55,columnNumber:13},void 0),n.jsxDEV("input",{type:o,className:x(["block w-full rounded-lg border transition-colors duration-200","text-gray-900 placeholder-gray-500","focus:outline-none focus:ring-2 focus:ring-blue-800 focus:border-transparent","disabled:bg-gray-100 disabled:cursor-not-allowed"].join(" "),u,f,e),disabled:c,ref:d,...l},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/Input.tsx",lineNumber:62,columnNumber:11},void 0),a&&n.jsxDEV("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:n.jsxDEV("span",{className:"text-gray-400",children:a},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/Input.tsx",lineNumber:77,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/Input.tsx",lineNumber:76,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/components/common/Input.tsx",lineNumber:53,columnNumber:9},void 0),t&&n.jsxDEV("p",{className:"mt-1 text-sm text-red-600",children:t},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/Input.tsx",lineNumber:85,columnNumber:11},void 0),s&&!t&&n.jsxDEV("p",{className:"mt-1 text-sm text-gray-500",children:s},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/Input.tsx",lineNumber:89,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/components/common/Input.tsx",lineNumber:45,columnNumber:7},void 0)});function S(n,o={}){const{showLoading:r=!0,showError:t=!0,showSuccess:s=!1,successMessage:i,loadingMessage:a}=o,[m,c]=e.useState({data:null,loading:!1,error:null}),{addToast:l}=v(),{startRequest:d,endRequest:u}=k();return{...m,execute:e.useCallback(async(...e)=>{try{c(e=>({...e,loading:!0,error:null})),r&&d();const o=await n(...e);return c(e=>({...e,data:o,loading:!1})),s&&i&&l({type:"success",message:i}),o}catch(o){const e=o instanceof Error?o.message:"알 수 없는 오류가 발생했습니다.";return c(n=>({...n,error:e,loading:!1})),t&&l({type:"error",message:e}),null}finally{r&&u()}},[n,l,d,u,r,t,s,i,a]),reset:e.useCallback(()=>{c({data:null,loading:!1,error:null})},[])}}C.displayName="Input";const _=({threshold:n=.1,rootMargin:o="100px",enabled:r=!0}={})=>{const[t,s]=e.useState(!1),i=e.useRef(null);return e.useEffect(()=>{if(!r||!i.current)return;const e=new IntersectionObserver(e=>{const[n]=e;s(n.isIntersecting)},{threshold:n,rootMargin:o}),t=i.current;return e.observe(t),()=>{t&&e.unobserve(t)}},[n,o,r]),{targetRef:i,isIntersecting:t}},L=({src:o,alt:r,className:t="",placeholderSrc:s="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIwIiBoZWlnaHQ9IjMyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxOCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkxvYWRpbmcuLi48L3RleHQ+PC9zdmc+",fallbackSrc:i="/assets/images/image-error.svg",width:a,height:m,objectFit:c="cover",loading:l="lazy",sizes:d,srcSet:u,priority:f=!1,onLoad:p,onError:g,style:N,...b})=>{const[v,x]=e.useState({isLoading:!0,isLoaded:!1,hasError:!1,currentSrc:s}),h=e.useRef(null),{targetRef:y,isIntersecting:w}=_({threshold:.1,rootMargin:"50px",enabled:"lazy"===l&&!f}),k=e.useCallback(()=>{x(e=>({...e,isLoading:!1,isLoaded:!0,hasError:!1})),p?.()},[p]),P=e.useCallback(()=>{x(e=>({...e,isLoading:!1,isLoaded:!1,hasError:!0,currentSrc:i})),g?.()},[i,g]),E=e.useCallback(e=>{const n=new Image;n.onload=()=>{x(n=>({...n,currentSrc:e})),k()},n.onerror=P,u&&(n.srcset=u),d&&(n.sizes=d),n.src=e},[u,d,k,P]);e.useEffect(()=>{!w&&!f&&"eager"!==l||!o||v.isLoaded||v.hasError||E(o)},[w,f,l,o,v.isLoaded,v.hasError,E]);const[D,j]=e.useState(null);e.useEffect(()=>{(()=>{const e=document.createElement("canvas");e.width=1,e.height=1;const n=e.toDataURL("image/webp");j(n.startsWith("data:image/webp"))})()},[]);const V=e.useCallback(e=>!e||e.startsWith("data:")||e.startsWith("blob:")?e:D&&!e.includes(".svg")?e.replace(/\.(jpg|jpeg|png)$/i,".webp"):e,[D]),C=e.useCallback(e=>{if(u)return u;if(!e||e.startsWith("data:")||e.startsWith("blob:"))return;const n=V(e),o=n.replace(/\.[^/.]+$/,""),r=n.split(".").pop();return[`${o}_1x.${r} 1x`,`${o}_2x.${r} 2x`,`${o}_3x.${r} 3x`].join(", ")},[u,V]),S={...N,objectFit:c,width:a?`${a}px`:N?.width,height:m?`${m}px`:N?.height,transition:"opacity 0.3s ease, filter 0.3s ease",opacity:v.isLoaded?1:.8,filter:v.isLoading?"blur(1px)":"none"};return n.jsxDEV("div",{ref:y,className:`lazy-image-container ${t}`,style:{position:"relative",overflow:"hidden",display:"inline-block",width:a?`${a}px`:"100%",height:m?`${m}px`:"auto"},children:[n.jsxDEV("img",{ref:h,src:V(v.currentSrc),srcSet:C(v.currentSrc),sizes:d,alt:r,className:`lazy-image ${t}`,style:S,onLoad:k,onError:P,loading:f?"eager":"lazy",decoding:"async",...b},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/LazyImage.tsx",lineNumber:185,columnNumber:7},void 0),v.isLoading&&n.jsxDEV("div",{className:"lazy-image-loading",children:n.jsxDEV("div",{className:"loading-spinner"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/LazyImage.tsx",lineNumber:203,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/LazyImage.tsx",lineNumber:202,columnNumber:9},void 0),v.hasError&&n.jsxDEV("div",{className:"lazy-image-error",children:[n.jsxDEV("i",{className:"fas fa-exclamation-triangle"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/LazyImage.tsx",lineNumber:210,columnNumber:11},void 0),n.jsxDEV("span",{children:"이미지 로드 실패"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/LazyImage.tsx",lineNumber:211,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/components/common/LazyImage.tsx",lineNumber:209,columnNumber:9},void 0),n.jsxDEV("style",{children:'\n        .lazy-image-container {\n          background: #f3f4f6;\n          border-radius: 4px;\n        }\n\n        .lazy-image {\n          width: 100%;\n          height: 100%;\n          display: block;\n        }\n\n        .lazy-image-loading {\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          background: rgba(255, 255, 255, 0.8);\n          backdrop-filter: blur(2px);\n        }\n\n        .loading-spinner {\n          width: 24px;\n          height: 24px;\n          border: 2px solid #e5e7eb;\n          border-top: 2px solid #3b82f6;\n          border-radius: 50%;\n          animation: lazy-spin 1s linear infinite;\n        }\n\n        .lazy-image-error {\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          background: #f9fafb;\n          color: #6b7280;\n          font-size: 0.875rem;\n          text-align: center;\n          padding: 1rem;\n        }\n\n        .lazy-image-error i {\n          font-size: 1.5rem;\n          margin-bottom: 0.5rem;\n          color: #ef4444;\n        }\n\n        @keyframes lazy-spin {\n          from {\n            transform: rotate(0deg);\n          }\n          to {\n            transform: rotate(360deg);\n          }\n        }\n\n        /* 블러 효과를 위한 플레이스홀더 */\n        .lazy-image[src*="data:image/svg"] {\n          filter: blur(2px);\n        }\n\n        /* 고해상도 디스플레이 최적화 */\n        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {\n          .lazy-image {\n            image-rendering: -webkit-optimize-contrast;\n            image-rendering: crisp-edges;\n          }\n        }\n\n        /* 다크 모드 지원 */\n        @media (prefers-color-scheme: dark) {\n          .lazy-image-container {\n            background: #374151;\n          }\n          \n          .lazy-image-error {\n            background: #1f2937;\n            color: #9ca3af;\n          }\n          \n          .lazy-image-loading {\n            background: rgba(31, 41, 55, 0.8);\n          }\n        }\n\n        /* 접근성: 애니메이션 줄이기 */\n        @media (prefers-reduced-motion: reduce) {\n          .lazy-image {\n            transition: none;\n          }\n          \n          .loading-spinner {\n            animation: none;\n          }\n        }\n\n        /* 인쇄 최적화 */\n        @media print {\n          .lazy-image-loading,\n          .lazy-image-error {\n            display: none;\n          }\n        }\n      '},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/components/common/LazyImage.tsx",lineNumber:216,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/components/common/LazyImage.tsx",lineNumber:174,columnNumber:5},void 0)},I=o.memo(({post:e,onClick:o})=>n.jsxDEV("article",{className:"post-item",onClick:o,children:n.jsxDEV("div",{className:"post-content",children:[n.jsxDEV("div",{className:"post-header",children:[n.jsxDEV("div",{className:"post-author",children:[n.jsxDEV(L,{src:e.profile_image||"/assets/images/default-avatar.png",alt:e.author_name,className:"author-avatar",width:48,height:48,objectFit:"cover",priority:!1},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:20,columnNumber:13},void 0),n.jsxDEV("div",{className:"author-info",children:[n.jsxDEV("span",{className:"author-name",children:e.author_name},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:30,columnNumber:15},void 0),n.jsxDEV("time",{className:"post-date",children:new Date(e.created_at).toLocaleDateString("ko-KR")},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:31,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:29,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:19,columnNumber:11},void 0),e.is_pinned&&n.jsxDEV("span",{className:"pinned-badge",children:[n.jsxDEV("i",{className:"fas fa-thumbtack"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:38,columnNumber:15},void 0),"고정됨"]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:37,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:18,columnNumber:9},void 0),n.jsxDEV("h2",{className:"post-title",children:e.title},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:44,columnNumber:9},void 0),n.jsxDEV("p",{className:"post-preview",children:e.content_preview},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:45,columnNumber:9},void 0),e.image_path&&n.jsxDEV("div",{className:"post-image",children:n.jsxDEV(L,{src:e.image_path,alt:"게시글 이미지",width:600,height:200,objectFit:"cover",priority:!1},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:49,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:48,columnNumber:11},void 0),n.jsxDEV("div",{className:"post-meta",children:[n.jsxDEV("span",{className:"meta-item",children:[n.jsxDEV("i",{className:"fas fa-eye"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:62,columnNumber:13},void 0),e.view_count.toLocaleString()]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:61,columnNumber:11},void 0),n.jsxDEV("span",{className:"meta-item",children:[n.jsxDEV("i",{className:"fas fa-heart "+(e.is_liked?"liked":"")},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:66,columnNumber:13},void 0),e.like_count.toLocaleString()]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:65,columnNumber:11},void 0),n.jsxDEV("span",{className:"meta-item",children:[n.jsxDEV("i",{className:"fas fa-comment"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:70,columnNumber:13},void 0),e.comment_count.toLocaleString()]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:69,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:60,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:17,columnNumber:7},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:16,columnNumber:5},void 0));I.displayName="PostItem";const W=o.memo(({searchQuery:o,searchFilter:r,onSearchChange:t,onFilterChange:s,onSubmit:i})=>{const a=e.useCallback(e=>{e.preventDefault(),i()},[i]);return n.jsxDEV("section",{className:"search-section",children:n.jsxDEV("div",{className:"search-container",children:n.jsxDEV("form",{onSubmit:a,className:"search-form",children:[n.jsxDEV("div",{className:"search-filters",children:n.jsxDEV("select",{value:r,onChange:e=>s(e.target.value),className:"search-filter",children:[n.jsxDEV("option",{value:"all",children:"전체"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:104,columnNumber:15},void 0),n.jsxDEV("option",{value:"title",children:"제목"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:105,columnNumber:15},void 0),n.jsxDEV("option",{value:"content",children:"내용"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:106,columnNumber:15},void 0),n.jsxDEV("option",{value:"author",children:"작성자"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:107,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:99,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:98,columnNumber:11},void 0),n.jsxDEV("div",{className:"search-input-container",children:[n.jsxDEV("input",{type:"text",value:o,onChange:e=>t(e.target.value),placeholder:"검색어를 입력하세요...",className:"search-input"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:111,columnNumber:13},void 0),n.jsxDEV("button",{type:"submit",className:"search-button",children:n.jsxDEV("i",{className:"fas fa-search"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:119,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:118,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:110,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:97,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:96,columnNumber:7},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:95,columnNumber:5},void 0)});W.displayName="SearchSection";const z=o.memo(()=>n.jsxDEV("div",{className:"post-skeleton",children:[n.jsxDEV("div",{className:"skeleton-header",children:[n.jsxDEV("div",{className:"skeleton-avatar"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:134,columnNumber:7},void 0),n.jsxDEV("div",{className:"skeleton-author",children:[n.jsxDEV("div",{className:"skeleton-line skeleton-name"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:136,columnNumber:9},void 0),n.jsxDEV("div",{className:"skeleton-line skeleton-date"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:137,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:135,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:133,columnNumber:5},void 0),n.jsxDEV("div",{className:"skeleton-title"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:140,columnNumber:5},void 0),n.jsxDEV("div",{className:"skeleton-content",children:[n.jsxDEV("div",{className:"skeleton-line"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:142,columnNumber:7},void 0),n.jsxDEV("div",{className:"skeleton-line"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:143,columnNumber:7},void 0),n.jsxDEV("div",{className:"skeleton-line short"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:144,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:141,columnNumber:5},void 0),n.jsxDEV("div",{className:"skeleton-meta",children:[n.jsxDEV("div",{className:"skeleton-line skeleton-meta-item"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:147,columnNumber:7},void 0),n.jsxDEV("div",{className:"skeleton-line skeleton-meta-item"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:148,columnNumber:7},void 0),n.jsxDEV("div",{className:"skeleton-line skeleton-meta-item"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:149,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:146,columnNumber:5},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:132,columnNumber:3},void 0));z.displayName="PostSkeleton";const T=()=>{const[o,i]=r(),a=t(),[c,l]=e.useState(o.get("search")||""),[d,u]=e.useState(o.get("filter")||"all"),[f,p]=e.useState({search:o.get("search")||void 0,filter:o.get("filter")||"all"}),{isAuthenticated:N}=g(),b=((n,o)=>{const[r,t]=e.useState(n);return e.useEffect(()=>{const e=setTimeout(()=>{t(n)},o);return()=>{clearTimeout(e)}},[n,o]),r})(c,500),v=D({title:"커뮤니티",description:"네트워크 마케팅 전문가들과 정보를 공유하고 소통하는 공간입니다.",ogType:"website"}),{data:x,fetchNextPage:y,hasNextPage:w,isFetchingNextPage:k,isLoading:P,isError:E,error:V,refetch:C}=m(f),{targetRef:S,isIntersecting:L}=_({threshold:.1,rootMargin:"100px",enabled:w&&!k});e.useEffect(()=>{L&&w&&!k&&y()},[L,w,k,y]);const T=e.useMemo(()=>x?.pages.flatMap(e=>e.posts)||[],[x]),A=e.useMemo(()=>x?.pages[0]?.pagination.total_count||0,[x]),R=e.useCallback(()=>{const e={search:b||void 0,filter:"all"===d?"all":d};p(e);const n=new URLSearchParams;e.search&&n.set("search",e.search),e.filter&&n.set("filter",e.filter),i(n)},[b,d,i]);e.useEffect(()=>{R()},[R]);const U=e.useCallback(e=>{a(`/community/post/${e}`)},[a]);return E?n.jsxDEV(n.Fragment,{children:[n.jsxDEV(j,{...v},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:246,columnNumber:9},void 0),n.jsxDEV("div",{className:"community-page",children:n.jsxDEV("div",{className:"error-container",children:[n.jsxDEV("i",{className:"fas fa-exclamation-triangle"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:249,columnNumber:13},void 0),n.jsxDEV("h2",{children:"게시글을 불러오는데 실패했습니다"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:250,columnNumber:13},void 0),n.jsxDEV("p",{children:V?.message||"알 수 없는 오류가 발생했습니다."},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:251,columnNumber:13},void 0),n.jsxDEV("button",{onClick:()=>C(),className:"retry-button",children:"다시 시도"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:252,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:248,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:247,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:245,columnNumber:7},void 0):n.jsxDEV(n.Fragment,{children:[n.jsxDEV(j,{...v},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:263,columnNumber:7},void 0),n.jsxDEV("div",{className:"community-page",children:[n.jsxDEV("section",{className:"community-header",children:n.jsxDEV("div",{className:"container",children:[n.jsxDEV("h1",{children:[n.jsxDEV("i",{className:"fas fa-users"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:270,columnNumber:15},void 0),"커뮤니티"]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:269,columnNumber:13},void 0),n.jsxDEV("p",{children:"네트워크 마케팅 전문가들과 정보를 공유하고 소통하는 공간입니다"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:273,columnNumber:13},void 0),n.jsxDEV("div",{className:"header-actions",children:N&&n.jsxDEV(s,{to:"/community/write",className:"btn btn-primary",children:[n.jsxDEV("i",{className:"fas fa-pen"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:277,columnNumber:19},void 0),"글쓰기"]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:276,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:274,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:268,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:267,columnNumber:9},void 0),n.jsxDEV(W,{searchQuery:c,searchFilter:d,onSearchChange:l,onFilterChange:u,onSubmit:R},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:286,columnNumber:9},void 0),n.jsxDEV("div",{className:"container",children:n.jsxDEV("div",{className:"community-content",children:[!P&&n.jsxDEV("div",{className:"community-stats",children:[n.jsxDEV("span",{className:"total-count",children:["총 ",n.jsxDEV("strong",{children:A.toLocaleString()},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:301,columnNumber:21},void 0),"개의 게시글"]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:300,columnNumber:17},void 0),f.search&&n.jsxDEV("span",{className:"search-info",children:["'",n.jsxDEV("strong",{children:f.search},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:305,columnNumber:22},void 0),"' 검색 결과"]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:304,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:299,columnNumber:15},void 0),n.jsxDEV("div",{className:"posts-container",children:P?n.jsxDEV("div",{className:"posts-list",children:Array.from({length:6},(e,o)=>n.jsxDEV(z,{},o,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:317,columnNumber:21},void 0))},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:315,columnNumber:17},void 0):T.length>0?n.jsxDEV(n.Fragment,{children:[n.jsxDEV("div",{className:"posts-list",children:T.map((e,o)=>n.jsxDEV(I,{post:e,onClick:()=>U(e.id)},`${e.id}-${o}`,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:324,columnNumber:23},void 0))},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:322,columnNumber:19},void 0),w&&n.jsxDEV("div",{ref:S,className:"infinite-scroll-trigger",children:k&&n.jsxDEV("div",{className:"loading-more",children:[n.jsxDEV(h,{},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:337,columnNumber:27},void 0),n.jsxDEV("span",{children:"더 많은 게시글을 불러오는 중..."},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:338,columnNumber:27},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:336,columnNumber:25},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:334,columnNumber:21},void 0),!w&&T.length>0&&n.jsxDEV("div",{className:"end-message",children:[n.jsxDEV("i",{className:"fas fa-flag-checkered"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:347,columnNumber:23},void 0),"모든 게시글을 확인했습니다!"]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:346,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:321,columnNumber:17},void 0):n.jsxDEV("div",{className:"empty-state",children:[n.jsxDEV("i",{className:"fas fa-search"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:355,columnNumber:19},void 0),n.jsxDEV("h3",{children:"게시글이 없습니다"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:356,columnNumber:19},void 0),n.jsxDEV("p",{children:f.search?"검색 조건에 맞는 게시글이 없습니다.":"첫 번째 게시글을 작성해보세요!"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:357,columnNumber:19},void 0),N&&!f.search&&n.jsxDEV(s,{to:"/community/write",className:"btn btn-primary",children:[n.jsxDEV("i",{className:"fas fa-pen"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:365,columnNumber:23},void 0),"첫 게시글 작성하기"]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:364,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:354,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:312,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:296,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:295,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:265,columnNumber:7},void 0),n.jsxDEV("style",{children:"\n        .community-page {\n          background: #f8fafc;\n          min-height: calc(100vh - 80px);\n        }\n\n        .community-header {\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n          color: white;\n          padding: 3rem 0;\n          text-align: center;\n        }\n\n        .community-header h1 {\n          font-size: 2.5rem;\n          font-weight: bold;\n          margin-bottom: 1rem;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 1rem;\n        }\n\n        .community-header i {\n          font-size: 2rem;\n          color: #ffd700;\n        }\n\n        .community-header p {\n          font-size: 1.1rem;\n          opacity: 0.9;\n          margin-bottom: 2rem;\n        }\n\n        .header-actions {\n          display: flex;\n          justify-content: center;\n          gap: 1rem;\n        }\n\n        .search-section {\n          background: white;\n          border-bottom: 1px solid #e2e8f0;\n          padding: 1.5rem 0;\n        }\n\n        .search-container {\n          max-width: 1200px;\n          margin: 0 auto;\n          padding: 0 1rem;\n        }\n\n        .search-form {\n          display: flex;\n          gap: 1rem;\n          align-items: center;\n        }\n\n        .search-filters {\n          min-width: 120px;\n        }\n\n        .search-filter {\n          width: 100%;\n          padding: 0.75rem;\n          border: 1px solid #d1d5db;\n          border-radius: 8px;\n          font-size: 0.9rem;\n          background: white;\n        }\n\n        .search-input-container {\n          flex: 1;\n          display: flex;\n          position: relative;\n        }\n\n        .search-input {\n          flex: 1;\n          padding: 0.75rem 3rem 0.75rem 1rem;\n          border: 1px solid #d1d5db;\n          border-radius: 8px;\n          font-size: 0.9rem;\n        }\n\n        .search-input:focus {\n          outline: none;\n          border-color: #667eea;\n          box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\n        }\n\n        .search-button {\n          position: absolute;\n          right: 8px;\n          top: 50%;\n          transform: translateY(-50%);\n          background: #667eea;\n          color: white;\n          border: none;\n          border-radius: 6px;\n          width: 36px;\n          height: 36px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n\n        .search-button:hover {\n          background: #5a67d8;\n        }\n\n        .community-content {\n          padding: 2rem 0;\n        }\n\n        .community-stats {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 2rem;\n          padding: 1rem;\n          background: white;\n          border-radius: 12px;\n          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n        }\n\n        .total-count {\n          color: #4a5568;\n          font-size: 0.95rem;\n        }\n\n        .search-info {\n          color: #667eea;\n          font-size: 0.9rem;\n        }\n\n        .posts-container {\n          position: relative;\n        }\n\n        .posts-list {\n          display: grid;\n          gap: 1.5rem;\n        }\n\n        .post-item {\n          background: white;\n          border-radius: 12px;\n          padding: 1.5rem;\n          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n          border: 1px solid #e2e8f0;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n\n        .post-item:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);\n          border-color: #667eea;\n        }\n\n        .post-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 1rem;\n        }\n\n        .post-author {\n          display: flex;\n          align-items: center;\n          gap: 0.75rem;\n        }\n\n        .author-avatar {\n          width: 48px;\n          height: 48px;\n          border-radius: 50%;\n          object-fit: cover;\n          border: 2px solid #e2e8f0;\n        }\n\n        .author-info {\n          display: flex;\n          flex-direction: column;\n        }\n\n        .author-name {\n          font-weight: 600;\n          color: #2d3748;\n          font-size: 0.9rem;\n        }\n\n        .post-date {\n          color: #718096;\n          font-size: 0.8rem;\n        }\n\n        .pinned-badge {\n          background: #f56565;\n          color: white;\n          padding: 0.25rem 0.75rem;\n          border-radius: 20px;\n          font-size: 0.75rem;\n          font-weight: 600;\n          display: flex;\n          align-items: center;\n          gap: 0.25rem;\n        }\n\n        .post-title {\n          font-size: 1.25rem;\n          font-weight: 600;\n          color: #2d3748;\n          margin-bottom: 0.75rem;\n          line-height: 1.4;\n          display: -webkit-box;\n          -webkit-line-clamp: 2;\n          -webkit-box-orient: vertical;\n          overflow: hidden;\n        }\n\n        .post-preview {\n          color: #4a5568;\n          line-height: 1.6;\n          margin-bottom: 1rem;\n          display: -webkit-box;\n          -webkit-line-clamp: 3;\n          -webkit-box-orient: vertical;\n          overflow: hidden;\n        }\n\n        .post-image {\n          margin-bottom: 1rem;\n          border-radius: 8px;\n          overflow: hidden;\n        }\n\n        .post-image img {\n          width: 100%;\n          height: 200px;\n          object-fit: cover;\n        }\n\n        .post-meta {\n          display: flex;\n          gap: 1.5rem;\n          color: #718096;\n          font-size: 0.85rem;\n        }\n\n        .meta-item {\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n        }\n\n        .meta-item i.liked {\n          color: #f56565;\n        }\n\n        .infinite-scroll-trigger {\n          padding: 2rem 0;\n          display: flex;\n          justify-content: center;\n        }\n\n        .loading-more {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 1rem;\n          color: #718096;\n        }\n\n        .end-message {\n          text-align: center;\n          padding: 2rem;\n          color: #718096;\n        }\n\n        .end-message i {\n          font-size: 2rem;\n          margin-bottom: 1rem;\n          display: block;\n        }\n\n        .empty-state {\n          text-align: center;\n          padding: 4rem 2rem;\n          color: #718096;\n        }\n\n        .empty-state i {\n          font-size: 4rem;\n          margin-bottom: 1.5rem;\n          display: block;\n          opacity: 0.5;\n        }\n\n        .empty-state h3 {\n          font-size: 1.5rem;\n          color: #4a5568;\n          margin-bottom: 0.5rem;\n        }\n\n        .empty-state p {\n          margin-bottom: 2rem;\n        }\n\n        .error-container {\n          text-align: center;\n          padding: 4rem 2rem;\n          color: #e53e3e;\n        }\n\n        .error-container i {\n          font-size: 4rem;\n          margin-bottom: 1.5rem;\n          display: block;\n        }\n\n        .retry-button {\n          background: #667eea;\n          color: white;\n          border: none;\n          padding: 0.75rem 1.5rem;\n          border-radius: 8px;\n          cursor: pointer;\n          margin-top: 1rem;\n        }\n\n        /* 스켈레톤 로딩 */\n        .post-skeleton {\n          background: white;\n          border-radius: 12px;\n          padding: 1.5rem;\n          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n          border: 1px solid #e2e8f0;\n        }\n\n        .skeleton-header {\n          display: flex;\n          align-items: center;\n          gap: 0.75rem;\n          margin-bottom: 1rem;\n        }\n\n        .skeleton-avatar {\n          width: 48px;\n          height: 48px;\n          border-radius: 50%;\n          background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\n          background-size: 200% 100%;\n          animation: loading 1.5s infinite;\n        }\n\n        .skeleton-author {\n          flex: 1;\n        }\n\n        .skeleton-line {\n          background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\n          background-size: 200% 100%;\n          animation: loading 1.5s infinite;\n          border-radius: 4px;\n          margin-bottom: 0.5rem;\n        }\n\n        .skeleton-name {\n          height: 16px;\n          width: 100px;\n        }\n\n        .skeleton-date {\n          height: 12px;\n          width: 80px;\n        }\n\n        .skeleton-title {\n          height: 24px;\n          background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\n          background-size: 200% 100%;\n          animation: loading 1.5s infinite;\n          border-radius: 4px;\n          margin-bottom: 0.75rem;\n        }\n\n        .skeleton-content .skeleton-line {\n          height: 16px;\n        }\n\n        .skeleton-content .skeleton-line.short {\n          width: 60%;\n        }\n\n        .skeleton-meta {\n          display: flex;\n          gap: 1.5rem;\n        }\n\n        .skeleton-meta-item {\n          height: 14px;\n          width: 60px;\n          margin-bottom: 0;\n        }\n\n        @keyframes loading {\n          0% {\n            background-position: 200% 0;\n          }\n          100% {\n            background-position: -200% 0;\n          }\n        }\n\n        @media (max-width: 768px) {\n          .community-header h1 {\n            font-size: 2rem;\n          }\n\n          .search-form {\n            flex-direction: column;\n          }\n\n          .search-filters {\n            min-width: 100%;\n          }\n\n          .community-stats {\n            flex-direction: column;\n            gap: 0.5rem;\n            text-align: center;\n          }\n\n          .post-meta {\n            justify-content: center;\n          }\n        }\n      "},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:377,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/CommunityPage.tsx",lineNumber:262,columnNumber:5},void 0)},A=()=>{const{id:o}=i(),r=t(),{isAuthenticated:a}=g(),[m,l]=e.useState(null),[d,u]=e.useState([]),[f,p]=e.useState(!0),[N,b]=e.useState(null),[v,x]=e.useState({}),[h,y]=e.useState({}),[w,k]=e.useState(""),[P,E]=e.useState(!1),[D,j]=e.useState(null),[V,C]=e.useState("");e.useEffect(()=>{(async()=>{if(o){p(!0),b(null);try{const e=await c.getPost(parseInt(o));if(e.success&&e.data){l(e.data.post),x(e.data.user_permissions||{}),y(e.data.user_actions||{});const n=await c.getComments(parseInt(o));n.success&&n.data&&u(n.data.comments||[])}else b("게시글을 찾을 수 없습니다.")}catch(e){b(e.response?.data?.message||"게시글을 불러오는데 실패했습니다.")}finally{p(!1)}}})()},[o]);const S=e=>new Date(e).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return f?n.jsxDEV("div",{className:"loading-container",children:n.jsxDEV("div",{className:"loading-content",children:[n.jsxDEV("div",{className:"loading-icon",children:[n.jsxDEV("div",{className:"rocket-main",children:"🚀"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:191,columnNumber:13},void 0),n.jsxDEV("div",{className:"loading-spinner"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:192,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:190,columnNumber:11},void 0),n.jsxDEV("p",{children:"게시글을 불러오는 중..."},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:194,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:189,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:188,columnNumber:7},void 0):N||!m?n.jsxDEV("div",{className:"error-container",children:n.jsxDEV("div",{className:"error-content",children:[n.jsxDEV("h2",{children:"게시글을 찾을 수 없습니다"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:204,columnNumber:11},void 0),n.jsxDEV("p",{children:N||"요청하신 게시글이 존재하지 않거나 삭제되었습니다."},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:205,columnNumber:11},void 0),n.jsxDEV(s,{to:"/community",className:"back-button",children:"커뮤니티로 돌아가기"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:206,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:203,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:202,columnNumber:7},void 0):n.jsxDEV("div",{className:"post-detail-container",children:[n.jsxDEV(s,{to:"/community",className:"floating-back-btn",children:n.jsxDEV("i",{className:"fas fa-arrow-left"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:218,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:217,columnNumber:7},void 0),n.jsxDEV("div",{className:"post-header",children:n.jsxDEV("div",{className:"post-header-content",children:[n.jsxDEV("h1",{className:"post-title",children:m.title},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:224,columnNumber:11},void 0),n.jsxDEV("div",{className:"post-meta",children:[n.jsxDEV("div",{className:"author-info",children:[n.jsxDEV("div",{className:"author-avatar",children:[m.profile_image?n.jsxDEV("img",{src:`https://www.topmktx.com${m.profile_image}`,alt:m.author_name,onError:e=>{e.currentTarget.style.display="none";const n=e.currentTarget.nextElementSibling;n&&(n.style.display="flex")}},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:229,columnNumber:19},void 0):null,n.jsxDEV("div",{className:"author-initial",style:m.profile_image?{display:"none"}:{},children:m.author_name.charAt(0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:239,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:227,columnNumber:15},void 0),n.jsxDEV("div",{className:"author-details",children:[n.jsxDEV("span",{className:"author-name",children:m.author_name},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:244,columnNumber:17},void 0),n.jsxDEV("span",{className:"post-date",children:S(m.created_at)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:245,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:243,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:226,columnNumber:13},void 0),n.jsxDEV("div",{className:"post-actions",children:[v.can_edit&&n.jsxDEV(s,{to:`/community/${m.id}/edit`,className:"btn btn-edit",children:[n.jsxDEV("i",{className:"fas fa-edit"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:251,columnNumber:19},void 0)," 수정"]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:250,columnNumber:17},void 0),v.can_delete&&n.jsxDEV("button",{onClick:async()=>{if(m&&window.confirm("정말로 이 게시글을 삭제하시겠습니까?"))try{(await c.deletePost(m.id)).success&&(alert("게시글이 삭제되었습니다."),r("/community"))}catch(e){alert(e.response?.data?.message||"게시글 삭제에 실패했습니다.")}},className:"btn btn-delete",children:[n.jsxDEV("i",{className:"fas fa-trash"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:256,columnNumber:19},void 0)," 삭제"]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:255,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:248,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:225,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:223,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:222,columnNumber:7},void 0),n.jsxDEV("div",{className:"post-content",children:[n.jsxDEV("div",{className:"content-body",dangerouslySetInnerHTML:{__html:m.content}},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:266,columnNumber:9},void 0),n.jsxDEV("div",{className:"post-footer",children:[n.jsxDEV("div",{className:"post-stats",children:[n.jsxDEV("span",{className:"stat-item",children:[n.jsxDEV("i",{className:"fas fa-eye"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:272,columnNumber:15},void 0),"조회 ",m.view_count.toLocaleString()]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:271,columnNumber:13},void 0),n.jsxDEV("span",{className:"stat-item",children:[n.jsxDEV("i",{className:"fas fa-heart"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:276,columnNumber:15},void 0),"좋아요 ",m.like_count.toLocaleString()]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:275,columnNumber:13},void 0),n.jsxDEV("span",{className:"stat-item",children:[n.jsxDEV("i",{className:"fas fa-comments"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:280,columnNumber:15},void 0),"댓글 ",m.comment_count.toLocaleString()]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:279,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:270,columnNumber:11},void 0),n.jsxDEV("div",{className:"post-actions-bottom",children:[n.jsxDEV("button",{onClick:async()=>{if(a){if(m)try{(h.is_liked?await c.unlikePost(m.id):await c.likePost(m.id)).success&&(y(e=>({...e,is_liked:!e.is_liked})),l(e=>e?{...e,like_count:e.like_count+(h.is_liked?-1:1)}:null))}catch(e){alert("좋아요 처리 중 오류가 발생했습니다.")}}else alert("로그인이 필요한 서비스입니다.")},className:"like-btn "+(h.is_liked?"liked":""),children:[h.is_liked?"❤️":"🤍"," 좋아요 ",m.like_count]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:286,columnNumber:13},void 0),n.jsxDEV("button",{className:"share-btn",children:[n.jsxDEV("i",{className:"fas fa-share"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:294,columnNumber:15},void 0)," 공유하기"]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:293,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:285,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:269,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:265,columnNumber:7},void 0),n.jsxDEV("div",{className:"comments-section",children:[n.jsxDEV("div",{className:"comments-header",children:n.jsxDEV("h3",{children:["댓글 ",d.length,"개"]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:303,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:302,columnNumber:9},void 0),a?n.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),a){if(m&&w.trim()){E(!0);try{const e=await c.createComment(m.id,{content:w.trim()});e.success&&e.data&&(u(n=>[...n,e.data]),k(""),alert("댓글이 등록되었습니다."),l(e=>e?{...e,comment_count:e.comment_count+1}:null))}catch(n){alert(n.response?.data?.message||"댓글 등록에 실패했습니다.")}finally{E(!1)}}}else alert("로그인이 필요한 서비스입니다.")},className:"comment-form",children:[n.jsxDEV("div",{className:"form-group",children:n.jsxDEV("textarea",{value:w,onChange:e=>k(e.target.value),placeholder:"댓글을 작성해주세요...",rows:4,maxLength:500,className:"comment-textarea"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:310,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:309,columnNumber:13},void 0),n.jsxDEV("div",{className:"form-footer",children:[n.jsxDEV("span",{className:"char-count",children:[w.length,"/500"]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:320,columnNumber:15},void 0),n.jsxDEV("button",{type:"submit",disabled:!w.trim()||w.length>500||P,className:"submit-btn",children:P?"등록중...":"댓글 등록"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:323,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:319,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:308,columnNumber:11},void 0):n.jsxDEV("div",{className:"login-required",children:[n.jsxDEV("p",{children:"댓글을 작성하려면 로그인이 필요합니다."},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:334,columnNumber:13},void 0),n.jsxDEV(s,{to:"/auth/login",className:"login-btn",children:"로그인하기"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:335,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:333,columnNumber:11},void 0),n.jsxDEV("div",{className:"comments-list",children:[d.map(e=>n.jsxDEV("div",{className:"comment-item",children:n.jsxDEV("div",{className:"comment-content",children:[n.jsxDEV("div",{className:"comment-avatar",children:[e.author_profile_image?n.jsxDEV("img",{src:`https://www.topmktx.com${e.author_profile_image}`,alt:e.author_name,onError:e=>{e.currentTarget.style.display="none";const n=e.currentTarget.nextElementSibling;n&&(n.style.display="flex")}},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:348,columnNumber:21},void 0):null,n.jsxDEV("div",{className:"comment-initial",style:e.author_profile_image?{display:"none"}:{},children:e.author_name.charAt(0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:358,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:346,columnNumber:17},void 0),n.jsxDEV("div",{className:"comment-body",children:[n.jsxDEV("div",{className:"comment-header",children:[n.jsxDEV("span",{className:"comment-author",children:e.author_name},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:364,columnNumber:21},void 0),n.jsxDEV("span",{className:"comment-date",children:S(e.created_at)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:365,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:363,columnNumber:19},void 0),n.jsxDEV("div",{className:"comment-text",children:e.content},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:367,columnNumber:19},void 0),n.jsxDEV("div",{className:"comment-actions",children:[n.jsxDEV("button",{onClick:()=>j(D===e.id?null:e.id),className:"reply-btn",children:"답글"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:369,columnNumber:21},void 0),e.replies&&e.replies.length>0&&n.jsxDEV("span",{className:"reply-count",children:["답글 ",e.replies.length,"개"]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:376,columnNumber:23},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:368,columnNumber:19},void 0),D===e.id&&a&&n.jsxDEV("div",{className:"reply-form",children:[n.jsxDEV("textarea",{value:V,onChange:e=>C(e.target.value),placeholder:"답글을 작성해주세요...",rows:3,className:"reply-textarea"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:383,columnNumber:23},void 0),n.jsxDEV("div",{className:"reply-form-actions",children:[n.jsxDEV("button",{onClick:()=>{j(null),C("")},className:"cancel-btn",children:"취소"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:391,columnNumber:25},void 0),n.jsxDEV("button",{onClick:()=>(async e=>{if(a){if(m&&V.trim()){E(!0);try{const n=await c.createComment(m.id,{content:V.trim(),parent_id:e});n.success&&n.data&&(u(o=>o.map(o=>o.id===e?{...o,replies:[...o.replies||[],n.data]}:o)),C(""),j(null),alert("답글이 등록되었습니다."))}catch(n){alert(n.response?.data?.message||"답글 등록에 실패했습니다.")}finally{E(!1)}}}else alert("로그인이 필요한 서비스입니다.")})(e.id),disabled:!V.trim()||P,className:"submit-btn",children:P?"등록중...":"답글 등록"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:400,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:390,columnNumber:23},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:382,columnNumber:21},void 0),e.replies&&e.replies.length>0&&n.jsxDEV("div",{className:"replies-list",children:e.replies.map(e=>n.jsxDEV("div",{className:"reply-item",children:[n.jsxDEV("div",{className:"reply-avatar",children:[e.author_profile_image?n.jsxDEV("img",{src:`https://www.topmktx.com${e.author_profile_image}`,alt:e.author_name,onError:e=>{e.currentTarget.style.display="none";const n=e.currentTarget.nextElementSibling;n&&(n.style.display="flex")}},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:418,columnNumber:31},void 0):null,n.jsxDEV("div",{className:"reply-initial",style:e.author_profile_image?{display:"none"}:{},children:e.author_name.charAt(0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:428,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:416,columnNumber:27},void 0),n.jsxDEV("div",{className:"reply-body",children:[n.jsxDEV("div",{className:"reply-header",children:[n.jsxDEV("span",{className:"reply-author",children:e.author_name},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:434,columnNumber:31},void 0),n.jsxDEV("span",{className:"reply-date",children:S(e.created_at)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:435,columnNumber:31},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:433,columnNumber:29},void 0),n.jsxDEV("div",{className:"reply-text",children:e.content},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:437,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:432,columnNumber:27},void 0)]},e.id,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:415,columnNumber:25},void 0))},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:413,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:362,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:345,columnNumber:15},void 0)},e.id,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:344,columnNumber:13},void 0)),0===d.length&&n.jsxDEV("div",{className:"no-comments",children:[n.jsxDEV("div",{className:"no-comments-icon",children:n.jsxDEV("i",{className:"fas fa-comments"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:451,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:450,columnNumber:15},void 0),n.jsxDEV("h3",{children:"아직 댓글이 없습니다"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:453,columnNumber:15},void 0),n.jsxDEV("p",{children:"첫 번째 댓글을 작성해보세요!"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:454,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:449,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:342,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:301,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostDetailPage.tsx",lineNumber:215,columnNumber:5},void 0)},R=()=>{const{id:o}=i(),r=t(),{user:a,isAuthenticated:m}=g(),{success:c,error:l}=v(),{execute:d}=S(async e=>e),[u,f]=e.useState(!!o),[p,N]=e.useState(!1),[b,x]=e.useState({title:"",content:""}),[y,w]=e.useState({}),k=!!o;e.useEffect(()=>{m||(l("로그인이 필요한 서비스입니다."),r("/auth/login",{state:{from:location.pathname}}))},[m]),e.useEffect(()=>{if(k&&o){(async()=>{f(!0);try{const e=await d({url:`/posts/${o}`,method:"GET"});if(e.success&&e.data){const n=e.data;if(a&&a.id!==n.user.id)return l("게시글을 수정할 권한이 없습니다."),void r("/community");x({title:n.title,content:n.content})}}catch(e){l("게시글을 불러올 수 없습니다."),r("/community")}finally{f(!1)}})()}},[k,o,a]);const P=e=>{const{name:n,value:o}=e.target;x(e=>({...e,[n]:o})),y[n]&&w(e=>({...e,[n]:""}))};return u?n.jsxDEV("div",{className:"min-h-screen flex items-center justify-center",children:n.jsxDEV(h,{size:"lg",message:"게시글 정보를 불러오는 중..."},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:184,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:183,columnNumber:7},void 0):n.jsxDEV("div",{className:"min-h-screen bg-gray-50",children:n.jsxDEV("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxDEV("div",{className:"mb-6",children:n.jsxDEV(s,{to:"/community",className:"inline-flex items-center text-blue-600 hover:text-blue-700",children:[n.jsxDEV("svg",{className:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:199,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:198,columnNumber:13},void 0),"커뮤니티로 돌아가기"]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:194,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:193,columnNumber:9},void 0),n.jsxDEV("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:[n.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900",children:k?"게시글 수정":"새 게시글 작성"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:207,columnNumber:11},void 0),n.jsxDEV("p",{className:"text-gray-600 mt-2",children:k?"게시글을 수정하여 더 나은 내용으로 업데이트하세요.":"다른 회원들과 소중한 경험과 지식을 공유해보세요."},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:210,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:206,columnNumber:9},void 0),n.jsxDEV("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return b.title.trim()?b.title.length<2?e.title="제목은 2자 이상 입력해주세요.":b.title.length>200&&(e.title="제목은 200자 이하로 입력해주세요."):e.title="제목을 입력해주세요.",b.content.trim()?b.content.length<10?e.content="내용은 10자 이상 입력해주세요.":b.content.length>1e4&&(e.content="내용은 10,000자 이하로 입력해주세요."):e.content="내용을 입력해주세요.",w(e),0===Object.keys(e).length})()){N(!0);try{if(k&&o){const e={title:b.title.trim(),content:b.content.trim()};(await d({url:`/posts/${o}`,method:"PUT",data:e})).success&&(c("게시글이 수정되었습니다."),r(`/community/${o}`))}else{const e={title:b.title.trim(),content:b.content.trim()},n=await d({url:"/posts",method:"POST",data:e});n.success&&n.data&&(c("게시글이 등록되었습니다."),r(`/community/${n.data.id}`))}}catch(n){const e=n instanceof Error?n.message:k?"게시글 수정에 실패했습니다.":"게시글 등록에 실패했습니다.";l(e)}finally{N(!1)}}},className:"bg-white rounded-xl shadow-sm p-6",children:n.jsxDEV("div",{className:"space-y-6",children:[n.jsxDEV("div",{children:n.jsxDEV(C,{label:"제목",name:"title",value:b.title,onChange:P,error:y.title,placeholder:"게시글 제목을 입력해주세요",required:!0,fullWidth:!0,maxLength:200,hint:`${b.title.length}/200`},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:223,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:222,columnNumber:13},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["내용 ",n.jsxDEV("span",{className:"text-red-500",children:"*"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:240,columnNumber:20},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:239,columnNumber:15},void 0),n.jsxDEV("textarea",{name:"content",value:b.content,onChange:P,placeholder:"내용을 입력해주세요. 마크다운 문법을 사용할 수 있습니다.",rows:15,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none "+(y.content?"border-red-300":"border-gray-300"),maxLength:1e4},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:242,columnNumber:15},void 0),n.jsxDEV("div",{className:"flex justify-between items-center mt-2",children:[y.content&&n.jsxDEV("p",{className:"text-red-600 text-sm",children:y.content},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:255,columnNumber:19},void 0),n.jsxDEV("div",{className:"text-sm text-gray-500 ml-auto",children:[b.content.length.toLocaleString(),"/10,000"]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:257,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:253,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:238,columnNumber:13},void 0),n.jsxDEV("div",{className:"bg-blue-50 rounded-lg p-4",children:[n.jsxDEV("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"📝 작성 가이드"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:265,columnNumber:15},void 0),n.jsxDEV("ul",{className:"text-sm text-blue-800 space-y-1",children:[n.jsxDEV("li",{children:"• 다른 회원들에게 도움이 되는 내용을 작성해주세요"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:269,columnNumber:17},void 0),n.jsxDEV("li",{children:"• 구체적이고 명확한 제목을 사용해주세요"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:270,columnNumber:17},void 0),n.jsxDEV("li",{children:"• 마크다운 문법을 사용하여 내용을 꾸밀 수 있습니다"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:271,columnNumber:17},void 0),n.jsxDEV("li",{children:"• 개인정보나 민감한 정보는 포함하지 마세요"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:272,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:268,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:264,columnNumber:13},void 0),n.jsxDEV("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200",children:[n.jsxDEV("div",{className:"flex space-x-3",children:[n.jsxDEV(V,{type:"button",variant:"ghost",onClick:()=>r("/community"),children:"취소"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:279,columnNumber:17},void 0),n.jsxDEV(V,{type:"button",variant:"outline",onClick:async()=>{b.title.trim()||b.content.trim()?c("임시저장되었습니다."):l("저장할 내용이 없습니다.")},disabled:p,children:"임시저장"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:286,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:278,columnNumber:15},void 0),n.jsxDEV(V,{type:"submit",loading:p,disabled:!b.title.trim()||!b.content.trim(),className:"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700",children:k?"수정 완료":"게시글 등록"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:296,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:277,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:220,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:219,columnNumber:9},void 0),n.jsxDEV("div",{className:"mt-6 bg-white rounded-xl shadow-sm p-6",children:n.jsxDEV("details",{className:"group",children:[n.jsxDEV("summary",{className:"cursor-pointer text-lg font-semibold text-gray-900 flex items-center",children:[n.jsxDEV("svg",{className:"w-5 h-5 mr-2 transform group-open:rotate-90 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:313,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:312,columnNumber:15},void 0),"마크다운 사용법"]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:311,columnNumber:13},void 0),n.jsxDEV("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-6 text-sm",children:[n.jsxDEV("div",{children:[n.jsxDEV("h4",{className:"font-semibold text-gray-900 mb-2",children:"기본 문법"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:319,columnNumber:17},void 0),n.jsxDEV("div",{className:"space-y-2 text-gray-600",children:[n.jsxDEV("div",{children:n.jsxDEV("code",{className:"bg-gray-100 px-1 rounded",children:"# 제목 1"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:321,columnNumber:24},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:321,columnNumber:19},void 0),n.jsxDEV("div",{children:n.jsxDEV("code",{className:"bg-gray-100 px-1 rounded",children:"## 제목 2"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:322,columnNumber:24},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:322,columnNumber:19},void 0),n.jsxDEV("div",{children:n.jsxDEV("code",{className:"bg-gray-100 px-1 rounded",children:"**굵은 글씨**"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:323,columnNumber:24},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:323,columnNumber:19},void 0),n.jsxDEV("div",{children:n.jsxDEV("code",{className:"bg-gray-100 px-1 rounded",children:"*기울임 글씨*"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:324,columnNumber:24},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:324,columnNumber:19},void 0),n.jsxDEV("div",{children:n.jsxDEV("code",{className:"bg-gray-100 px-1 rounded",children:"`코드`"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:325,columnNumber:24},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:325,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:320,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:318,columnNumber:15},void 0),n.jsxDEV("div",{children:[n.jsxDEV("h4",{className:"font-semibold text-gray-900 mb-2",children:"고급 기능"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:329,columnNumber:17},void 0),n.jsxDEV("div",{className:"space-y-2 text-gray-600",children:[n.jsxDEV("div",{children:n.jsxDEV("code",{className:"bg-gray-100 px-1 rounded",children:"[링크](URL)"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:331,columnNumber:24},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:331,columnNumber:19},void 0),n.jsxDEV("div",{children:n.jsxDEV("code",{className:"bg-gray-100 px-1 rounded",children:"![이미지](URL)"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:332,columnNumber:24},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:332,columnNumber:19},void 0),n.jsxDEV("div",{children:n.jsxDEV("code",{className:"bg-gray-100 px-1 rounded",children:"- 목록 항목"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:333,columnNumber:24},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:333,columnNumber:19},void 0),n.jsxDEV("div",{children:n.jsxDEV("code",{className:"bg-gray-100 px-1 rounded",children:"1. 번호 목록"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:334,columnNumber:24},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:334,columnNumber:19},void 0),n.jsxDEV("div",{children:n.jsxDEV("code",{className:"bg-gray-100 px-1 rounded",children:"> 인용문"},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:335,columnNumber:24},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:335,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:330,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:328,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:317,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:310,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:309,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:191,columnNumber:7},void 0)},void 0,!1,{fileName:"/workspace/frontend/src/frontend/src/pages/community/PostWritePage.tsx",lineNumber:190,columnNumber:5},void 0)};export{l as A,V as B,T as C,C as I,h as L,A as P,j as S,P as T,v as a,k as b,x as c,D as d,S as e,R as f,E as g,w as h,b as i,p as j,g as u};
